<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — API Reference | Libraries | native | newWebView</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#native.newwebview">native.newWebView()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#gotchas">Gotchas</a><ul>
<li><a href="#general">General</a></li>
<li><a href="#ios">iOS</a></li>
<li><a href="#android">Android</a></li>
</ul></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#x-required">x <sub><sup>(required)</sup></sub></a></li>
<li><a href="#y-required">y <sub><sup>(required)</sup></sub></a></li>
<li><a href="#width-required">width <sub><sup>(required)</sup></sub></a></li>
<li><a href="#height-required">height <sub><sup>(required)</sup></sub></a></li>
</ul></li>
<li><a href="#properties-methods">Properties / Methods</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#basic-web-view">Basic Web View</a></li>
<li><a href="#same-response-from-callback-listener">Same + Response From Callback Listener</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../api/index.html">API Reference</a>  ▸  <a href="../../../api/library/index.html">Libraries</a>  ▸  <a href="../../../api/library/native/index.html">native</a>  ▸  <a href="../../../api/library/native/newWebView.html">newWebView</a>
</div>
<section id="native.newwebview" class="level1">
<h1>native.newWebView()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Library</strong></td>
<td style="text-align: left;"><a href="../../../api/library/native/index.html">native.*</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;"><a href="../../../api/type/WebView/index.html">WebView</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">web view, website, web overlay</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../../api/library/native/showWebPopup.html">native.showWebPopup()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../../api/event/urlRequest/index.html">urlRequest</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>Loads a web page in a web view container. This native web view can be moved via <code>x</code>/<code>y</code> properties in the same manner as other display objects. On iOS, you can also rotate it via the <code>rotation</code> property.</p>
<p>This API supports loading from either a local file containing HTML content (in one of the system directories) or from a remote website.</p>
</section>
<section id="gotchas" class="level2">
<h2>Gotchas</h2>
<section id="general" class="level3">
<h3>General</h3>
<ul>
<li><p>Native web views are not part of the OpenGL canvas and do not obey the display object hierarchy, so they will always appear in front of normal display objects including images, text, and vector objects.</p></li>
<li><p>This API should not be confused with the similar (older) <a href="../../../api/library/native/showWebPopup.html">native.showWebPopup()</a>.</p></li>
<li><p>You must close a web view by calling the <code>removeSelf()</code> method, because returning false in the listener function has no effect (with <a href="../../../api/library/native/showWebPopup.html">web popups</a>, which are different from web views, returning <code>false</code> in the listener closes the web popup—this is not the case with native web views).</p></li>
<li><p>Native web views are not supported on tvOS.</p></li>
<li><p>Native web views can only be rotated via the <code>rotation</code> property on iOS.</p></li>
</ul>
</section>
<section id="ios" class="level3">
<h3>iOS</h3>
<p>On iOS, when checking for <code>event.errorMessage</code> in a web view listener, you may occasionally receive an error message such as <nobr><code>NSURLerrorDomain error -999</code></nobr>. This is returned when an asynchronous load is cancelled. A Web Kit framework delegate will receive this error when it performs a cancel operation on a loading resource, however a <code>NSURLConnection</code> or <code>NSURLDownload</code> delegate will not receive this error if the download is cancelled. This event/error may occur if a link within web view is clicked while the web view is still in the process of loading the first page. Generally speaking, this error can be ignored.</p>
</section>
<section id="android" class="level3">
<h3>Android</h3>
<ul>
<li>If the web popup is displaying web pages from the Internet, then you must add the <code>INTERNET</code> permission to the <code>build.settings</code> file. This permission is unnecessary if the web view will only be displaying local HTML files that do not access the Internet.</li>
</ul>
<div class="code-indent">
<pre class="brush: lua;">settings =
{
    android =
    {
        usesPermissions =
        {
            "android.permission.INTERNET",
        },
    },
}</pre>
</div>
</section>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">native.newWebView( x, y, width, height )</pre>
<section id="x-required" class="level5">
<h5>x <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> The <strong>x</strong> coordinate that corresponds to the center of the web view object.</p>
</section>
<section id="y-required" class="level5">
<h5>y <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> The <strong>y</strong> coordinate that corresponds to the center of the web view object.</p>
</section>
<section id="width-required" class="level5">
<h5>width <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Width of the web view object.</p>
</section>
<section id="height-required" class="level5">
<h5>height <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Height of the web view object.</p>
</section>
</section>
<section id="properties-methods" class="level2">
<h2>Properties / Methods</h2>
<p>See the <a href="../../../api/type/WebView/index.html">WebView</a> documentation for a list of methods and properties.</p>
</section>
<section id="events" class="level2">
<h2>Events</h2>
<p>See the <a href="../../../api/event/urlRequest/index.html">urlRequest</a> event documentation for properties related to various <a href="../../../api/type/WebView/index.html">WebView</a> object events.</p>
</section>
<section id="examples" class="level2">
<h2>Examples</h2>
<section id="basic-web-view" class="level5">
<h5>Basic Web View</h5>
<pre class="brush: lua;">local webView = native.newWebView( display.contentCenterX, display.contentCenterY, 320, 480 )
webView:request( "https://solar2d.com/" )
-- or
webView:request( "localfile.html", system.ResourceDirectory )</pre>
</section>
<section id="same-response-from-callback-listener" class="level5">
<h5>Same + Response From Callback Listener</h5>
<pre class="brush: lua;">local function webListener( event )
    if event.url then
        print( "You are visiting: " .. event.url )
    end
 
    if event.type then
        print( "The event.type is " .. event.type ) -- print the type of request
    end
 
    if event.errorCode then
        native.showAlert( "Error!", event.errorMessage, { "OK" } )
    end
end
 
local webView = native.newWebView( display.contentCenterX, display.contentCenterY, 320, 480 )
webView:request( "https://solar2d.com/" )
 
webView:addEventListener( "urlRequest", webListener )</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
