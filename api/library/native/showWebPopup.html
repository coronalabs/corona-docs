<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — API Reference | Libraries | native | showWebPopup</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#native.showwebpopup">native.showWebPopup()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#gotchas">Gotchas</a><ul>
<li><a href="#general">General</a></li>
<li><a href="#ios">iOS</a></li>
<li><a href="#android">Android</a></li>
</ul></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#x-optional">x <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#y-optional">y <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#width-optional">width <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#height-optional">height <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#url-required">url <sub><sup>(required)</sup></sub></a></li>
<li><a href="#options-optional">options <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#options-reference">Options Reference</a><ul>
<li><a href="#baseurl-optional">baseUrl <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#hasbackground-optional">hasBackground <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#autocancel-optional">autoCancel <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#urlrequest-optional">urlRequest <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../api/index.html">API Reference</a>  ▸  <a href="../../../api/library/index.html">Libraries</a>  ▸  <a href="../../../api/library/native/index.html">native</a>  ▸  <a href="../../../api/library/native/showWebPopup.html">showWebPopup</a>
</div>
<section id="native.showwebpopup" class="level1">
<h1>native.showWebPopup()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Library</strong></td>
<td style="text-align: left;"><a href="../../../api/library/native/index.html">native.*</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;">none</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">web view, web popup, web overlay</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../../api/library/native/newWebView.html">native.newWebView()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>Creates a web popup that loads a local or remote web page.</p>
</section>
<section id="gotchas" class="level2">
<h2>Gotchas</h2>
<section id="general" class="level3">
<h3>General</h3>
<ul>
<li><p>Only one web popup object can be displayed at a time. For multiple web views at once, see <a href="../../../api/library/native/newWebView.html">native.newWebView()</a>.</p></li>
<li><p>The web popup is not part of the OpenGL canvas and does not obey the display object hierarchy, so it will always appear in front of normal display objects including images, text, and vector objects.</p></li>
<li><p>Web popups are not supported on tvOS.</p></li>
<li><p>Web popup objects cannot be moved or resized.</p></li>
</ul>
</section>
<section id="ios" class="level3">
<h3>iOS</h3>
<p>On iOS, when checking for <code>event.errorMessage</code> in a web popup listener, you may occasionally receive an error message such as <code>NSURLerrorDomain error -999</code>. This is returned when an asynchronous load is cancelled. A Web Kit framework delegate will receive this error when it performs a cancel operation on a loading resource, however a <code>NSURLConnection</code> or <code>NSURLDownload</code> delegate will not receive this error if the download is cancelled. This event/error may occur if a link within the web popup is clicked while the web popup is still in the process of loading the first page. Generally speaking, this error can be ignored.</p>
</section>
<section id="android" class="level3">
<h3>Android</h3>
<p>If the web popup is displaying web pages from the Internet, you must add the <code>INTERNET</code> permission to the <code>build.settings</code> file. This permission is unnecessary if the web popup will only be displaying local HTML files that do not access the Internet.</p>
<pre class="brush: lua;">settings =
{
    android =
    {
        usesPermissions =
        {
            "android.permission.INTERNET",
        },
    },
}</pre>
</section>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">native.showWebPopup( [x, y, width, height,] url, [options] )</pre>
<section id="x-optional" class="level5">
<h5>x <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> The <strong>x</strong> coordinate that corresponds to the left edge of the web popup.</p>
</section>
<section id="y-optional" class="level5">
<h5>y <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> The <strong>y</strong> coordinate that corresponds to the top edge of the web popup.</p>
</section>
<section id="width-optional" class="level5">
<h5>width <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Width of the web popup.</p>
</section>
<section id="height-optional" class="level5">
<h5>height <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Height of the web popup.</p>
</section>
<section id="url-required" class="level5">
<h5>url <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/String.html">String</a>.</em> URL of the local or remote web page (including extension for a local URL). By default, the URL is assumed to be an absolute URL to a remote server. If <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code> are not specified, the popup occupies the entire screen.</p>
</section>
<section id="options-optional" class="level5">
<h5>options <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Table.html">Table</a>.</em> Table containing additional parameters for the popup — see the next section for details.</p>
</section>
</section>
<section id="options-reference" class="level2">
<h2>Options Reference</h2>
<p>This is an optional table you can pass containing additional options for the web popup.</p>
<pre class="brush: lua;">local options =
{
    baseUrl = system.ResourceDirectory,  -- Default is nil
    hasBackground = false,  -- Default is true; not supported on Windows
    autoCancel = false,  -- Default is true; only supported on Android
    urlRequest = listener_function  -- Default is nil
}</pre>
<section id="baseurl-optional" class="level5">
<h5>baseUrl <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/String.html">String</a> or <a href="../../../api/type/Constant.html">Constant</a>.</em> Determines whether the URL parameter to <code>native.showWebPopup()</code> is interpreted as a relative or absolute URL.</p>
<ul>
<li>By default, <code>nil</code> means the URL is absolute.</li>
<li>To refer to a local file instead, set the base URL to one of the base directory constants, for example <code>system.ResourceDirectory</code>. Then the URL parameter is relative to that base directory.</li>
<li>For remote files, you can also specify a remote base, and the URL parameter will be relative to the remote base.</li>
</ul>
</section>
<section id="hasbackground-optional" class="level5">
<h5>hasBackground <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Boolean.html">Boolean</a>.</em> Controls whether the popup has a an opaque background or not. If not specified, the background will be opaque (<code>true</code>). This option is not supported on Windows (background cannot be transparent).</p>
</section>
<section id="autocancel-optional" class="level5">
<h5>autoCancel <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Boolean.html">Boolean</a>.</em> Sets up the popup to be automatically closed when the Android back key has been pressed and there is no more web history to navigate to. This is <code>true</code> by default.</p>
</section>
<section id="urlrequest-optional" class="level5">
<h5>urlRequest <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Function.html">Function</a>.</em> Designates a listener function that will intercept all <a href="../../../api/event/urlRequest/index.html">urlRequest</a> events from the popup. This also provides a standard method for passing information back from a web page using <nobr>pseudo-URLs.</nobr> For example:</p>
<div class="code-indent" style="width: 400px;">
<pre class="brush: lua; html">&lt;form action="corona:close" />
    &lt;input type="submit" />
&lt;/form></pre>
</div>
<p>In this example, when the user clicks <strong>Submit</strong> in the web popup, the designated listener function is sent a <a href="../../../api/event/urlRequest/index.html">urlRequest</a> event object with its URL property set to <code>"corona:close"</code>, thus allowing the application to react appropriately. Note that the listener function must return <code>true</code> or the web popup will close. Without a return statement, <code>false</code> is assumed.</p>
</section>
</section>
<section id="example" class="level2">
<h2>Example</h2>
<pre class="brush: lua;">local function listener( event )
    local shouldLoad = true

    local url = event.url
    if 1 == string.find( url, "corona:close" ) then
        -- Close the web popup
        shouldLoad = false
    end

    if event.errorCode then
        -- Error loading page
        print( "Error: " .. tostring( event.errorMessage ) )
        shouldLoad = false
    end

    return shouldLoad
end
 
local options =
{
    hasBackground = false,
    baseUrl = system.DocumentsDirectory,
    urlRequest = listener
}
native.showWebPopup( 50, 100, 220, 300, "localpage1.html", options )</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
