<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — API Reference | Libraries | physics | addBody</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#physics.addbody">physics.addBody()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#gotchas">Gotchas</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#object-required">object <sub><sup>(required)</sup></sub></a></li>
<li><a href="#bodytype-optional">bodyType <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#params-optional">params <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#parameter-reference">Parameter Reference</a><ul>
<li><a href="#core-parameters">Core Parameters</a><ul>
<li><a href="#density-optional">density <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#friction-optional">friction <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#bounce-optional">bounce <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#issensor-optional">isSensor <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#filter-optional">filter <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#circular-body">Circular Body</a><ul>
<li><a href="#radius">radius</a></li>
</ul></li>
<li><a href="#polygonal-body">Polygonal Body</a><ul>
<li><a href="#shape">shape</a></li>
</ul></li>
<li><a href="#offsetangled-rectangular-body">Offset/Angled Rectangular Body</a><ul>
<li><a href="#box">box</a></li>
</ul></li>
<li><a href="#edge-shape-chain-body">Edge Shape (Chain) Body</a><ul>
<li><a href="#chain">chain</a></li>
<li><a href="#connectfirstandlastchainvertex-optional">connectFirstAndLastChainVertex <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#outline-body">Outline Body</a><ul>
<li><a href="#outline">outline</a></li>
</ul></li>
</ul></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#rectangular-body">Rectangular Body</a></li>
<li><a href="#circular-body-1">Circular Body</a></li>
<li><a href="#polygonal-body-1">Polygonal Body</a></li>
<li><a href="#multi-element-body">Multi-Element Body</a></li>
<li><a href="#offsetangled-rectangular-body-1">Offset/Angled Rectangular Body</a></li>
<li><a href="#edge-shape-chain-body-1">Edge Shape (Chain) Body</a></li>
<li><a href="#outline-body-1">Outline Body</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../api/index.html">API Reference</a>  ▸  <a href="../../../api/library/index.html">Libraries</a>  ▸  <a href="../../../api/library/physics/index.html">physics</a>  ▸  <a href="../../../api/library/physics/addBody.html">addBody</a>
</div>
<section id="physics.addbody" class="level1">
<h1>physics.addBody()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Library</strong></td>
<td style="text-align: left;"><a href="../../../api/library/physics/index.html">physics.*</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;"><a href="../../../api/type/Boolean.html">Boolean</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">bodies, physics, body, shape, outline</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../../guide/physics/physicsBodies/index.html">Physics Bodies</a> <em>(guide)</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../../api/library/physics/removeBody.html">physics.removeBody()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../../api/library/graphics/newOutline.html">graphics.newOutline()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>This function turns almost any Corona display object into a simulated physical object with specific physical properties. It accepts the display object, an optional body type (string), and an optional <code>params</code> table containing <nobr>key-value</nobr> pairs that specify the properties for the physics body. Within this <code>params</code> table, the following apply:</p>
<ul>
<li><p>If a <code>radius</code> value is specified, the body boundaries will be circular, centered at the middle of the display object used to create the physics body.</p></li>
<li><p>If a <code>shape</code> table is specified, the body boundaries will follow the polygon provided by the shape. Note that the maximum number of sides per shape is eight (8), and all angles must be <strong>convex</strong>. Specifying a <code>shape</code> table will override a <code>radius</code> property, if both are specified in the same element. Note that the shape coordinates must be defined in <strong>clockwise</strong> order, and the first and last vertex must be different.</p></li>
<li><p>A complex body may be constructed by specifying multiple body elements and shapes. For example, if the overall shape of the object is concave or if the shape has more than eight sides, you can use multiple body elements to construct it. See the <a href="../../../guide/physics/physicsBodies/index.html">Physics Bodies</a> guide for more information.</p></li>
<li><p>An optional <code>box</code> table allows you to create an offset/angled rectangular body using values for <code>halfWidth</code>, <code>halfHeight</code>, <code>x</code> (offset), <code>y</code> (offset), and <code>angle</code>.</p></li>
<li><p>Edge shape (chain) bodies can be defined via a <code>chain</code> array. See below for details.</p></li>
<li><p>If an <code>outline</code> table is specified, the body boundaries will follow the outline provided by <a href="../../../api/library/graphics/newOutline.html">graphics.newOutline()</a>.</p></li>
</ul>
</section>
<section id="gotchas" class="level2">
<h2>Gotchas</h2>
<ul>
<li><p>When you turn a display object into a physics object, the physics engine “owns” the object and has its own rules about the object. The engine also assumes that the anchor point is at the center of the object.</p></li>
<li><p>When handling collisions with multi-element bodies, the body element index is reported as part of each collision event, so it’s possible to detect which specific part of a complex body is involved in a collision. See the <a href="../../../guide/physics/collisionDetection/index.html">Collision Detection</a> guide for more information.</p></li>
<li><p>If you change the <a href="../../../api/type/DisplayObject/anchorX.html">anchorX</a> or <a href="../../../api/type/DisplayObject/anchorY.html">anchorY</a> property of a display object before adding a physics body, the body will be positioned properly relative to the adjusted anchor. However, you should <strong>not</strong> change the anchor point after adding the body or the object and body will be misaligned.</p></li>
<li><p>You can <a href="../../../api/type/DisplayObject/scale.html">scale</a> the display object up or down, but the physics engine will still consider the object as it was before the applied scale values. Essentially, it will visually reflect the applied scale values, but the collision bounds of the body will remain the same as the original body definition.</p></li>
<li><p>You should not add a physics body to a <a href="../../../api/library/display/newLine.html">line</a> object created with <a href="../../../api/library/display/newLine.html">display.newLine()</a>, unless the body type is <code>"static"</code>.</p></li>
<li><p>This call cannot be used in a collision event. However, your collision handler may set a flag or include a time delay via <a href="../../../api/library/timer/performWithDelay.html">timer.performWithDelay()</a> so that the action can occur in the next application cycle or later. See the <a href="../../../guide/physics/collisionDetection/index.html">Collision Detection</a> guide for a complete list of which APIs and methods are subject to this rule.</p></li>
<li><p>For further information and limitation notes, see the <a href="../../../guide/physics/physicsBodies/index.html">Physics Bodies</a> guide and <a href="../../../guide/physics/limitations/index.html">Physics Notes/Limitations</a>.</p></li>
</ul>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">physics.addBody( object, [bodyType,] [params] )</pre>
<section id="object-required" class="level5">
<h5>object <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/DisplayObject/index.html">DisplayObject</a>.</em> The display object to add a physics body to.</p>
</section>
<section id="bodytype-optional" class="level5">
<h5>bodyType <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/String.html">String</a>.</em> The body type may be specified in an optional string parameter before the first body element. The possible types are <code>"static"</code>, <code>"dynamic"</code> and <code>"kinematic"</code>. The default type is <code>"dynamic"</code> if no value is specified. See <a href="../../../api/type/Body/bodyType.html">object.bodyType</a> for more information.</p>
</section>
<section id="params-optional" class="level5">
<h5>params <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Table.html">Table</a>.</em> A table of key-value pairs that specifies the properties of the body — see the next section for details. For <nobr>multi-element</nobr> bodies, multiple distinct <code>params</code> tables can be declared in a <nobr>comma-delimited</nobr> series (one for each body element).</p>
</section>
</section>
<section id="parameter-reference" class="level2">
<h2>Parameter Reference</h2>
<p>The <code>params</code> table includes the properties for the physics body.</p>
<section id="core-parameters" class="level3">
<h3>Core Parameters</h3>
<section id="density-optional" class="level5">
<h5>density <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Multiplied by the area of the body’s shape to determine mass. Based on a standard value of <code>1.0</code> for water. Lighter materials (such as wood) have a density below <code>1.0</code>, and heavier materials (such as stone) have a density greater than <code>1.0</code>. Default value is <code>1.0</code>.</p>
</section>
<section id="friction-optional" class="level5">
<h5>friction <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> May be any non-negative value; a value of <code>0.0</code> means no friction and <code>1.0</code> means fairly strong friction. The default value is <code>0.0</code>.</p>
</section>
<section id="bounce-optional" class="level5">
<h5>bounce <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Determines how much of an object’s velocity is returned after a collision. The default value is <code>0.2</code>.</p>
</section>
<section id="issensor-optional" class="level5">
<h5>isSensor <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Boolean.html">Boolean</a>.</em> Sets the body as a <a href="../../../api/type/Body/isSensor.html">sensor</a>. A sensor is a fixture that detects collisions but does not produce a physical response.</p>
</section>
<section id="filter-optional" class="level5">
<h5>filter <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Table.html">Table</a>.</em> Filter values. See <a href="../../../guide/physics/collisionDetection/index.html">Collision Detection</a> for more information.</p>
<ul>
<li><code>categoryBits = cb</code> where <code>cb</code> is the category of object (generally only one bit set). Defaults to <code>0x0001</code> if not set.</li>
<li><code>maskBits = mb</code>, where <code>mb</code> is the categories that the shape would accept for collision. Defaults to <code>0xFFFF</code>.</li>
<li><code>groupIndex = gb</code>, where <code>gb</code> specifies that a certain group of objects will never collide (negative) or always collide (positive). Defaults to <code>0</code> (disabled). If <code>groupIndex</code> is set to non-zero, it overrides the <code>maskBits</code> setting.</li>
</ul>
</section>
</section>
<section id="circular-body" class="level3">
<h3>Circular Body</h3>
<section id="radius" class="level5">
<h5>radius</h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Radius of the bounding circle.</p>
</section>
</section>
<section id="polygonal-body" class="level3">
<h3>Polygonal Body</h3>
<section id="shape" class="level5">
<h5>shape</h5>
<p><em><a href="../../../api/type/Array.html">Array</a>.</em> Shape array containing the shape’s vertices: <code>{ x1,y1, x2,y2, ..., xn,yn }</code>. For example <code>pentagonShape = { 0,-37, 37,-10, 23,34, -23,34, -37,-10 }</code>. The coordinates must be defined in <strong>clockwise</strong> order, and the resulting shape must be <strong>convex</strong> at all angle points. The physics engine assumes that the <code>0,0</code> point is the center of the object. A negative <strong>x</strong> will be to the left of object’s center and a negative <strong>y</strong> will be top of object’s center.</p>
</section>
</section>
<section id="offsetangled-rectangular-body" class="level3">
<h3>Offset/Angled Rectangular Body</h3>
<section id="box" class="level5">
<h5>box</h5>
<p><em><a href="../../../api/type/Table.html">Table</a>.</em> A table of <nobr>key-value</nobr> pairs including:</p>
<ul>
<li><code>halfWidth</code> — Half of the body width. This property is required.</li>
<li><code>halfHeight</code> — Half of the body height. This property is required.</li>
<li><code>x</code> — The <strong>x</strong> offset (±) from the display object’s center. If you offset the body along the <strong>x</strong> axis, you must also specify the <strong>y</strong> offset, even if no offset should occur along that axis <nobr>(simply specify <code>y=0</code>)</nobr>.</li>
<li><code>y</code> — The <strong>y</strong> offset (±) from the display object’s center. If you offset the body along the <strong>y</strong> axis, you must also specify the <strong>x</strong> offset, even if no offset should occur along that axis <nobr>(simply specify <code>x=0</code>)</nobr>.</li>
<li><code>angle</code> — The angle (rotation) of the body. This property is optional and defaults to <code>0</code>.</li>
</ul>
</section>
</section>
<section id="edge-shape-chain-body" class="level3">
<h3>Edge Shape (Chain) Body</h3>
<section id="chain" class="level5">
<h5>chain</h5>
<p><em><a href="../../../api/type/Array.html">Array</a>.</em> An array of vertices to define the edge shape. Edge shapes are not restricted to convex angles like polygonal bodies.</p>
</section>
<section id="connectfirstandlastchainvertex-optional" class="level5">
<h5>connectFirstAndLastChainVertex <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Boolean.html">Boolean</a>.</em> If set to <code>true</code>, the first and last vertices will be joined by a straight line. If set to <code>false</code> (default), the edge shape will have disconnected ends.</p>
<div class="guide-notebox-imp">
<div class="notebox-title-imp">
Important
</div>
<p>You should not construct an edge shape body with <nobr>self-intersecting</nobr> segments — in other words, your definition of vertices should not result in any segments of the chain intersecting with other segments. Doing so many break the expected collision detection of the shape.</p>
</div>
</section>
</section>
<section id="outline-body" class="level3">
<h3>Outline Body</h3>
<section id="outline" class="level5">
<h5>outline</h5>
<p><em><a href="../../../api/type/Array.html">Array</a>.</em> An outline array generated by <a href="../../../api/library/graphics/newOutline.html">graphics.newOutline()</a>. <code>outline</code> has fewer restrictions than <code>shape</code>, for example, an outline can be either convex or concave.</p>
</section>
</section>
</section>
<section id="examples" class="level2">
<h2>Examples</h2>
<section id="rectangular-body" class="level5">
<h5>Rectangular Body</h5>
<pre class="brush: lua;">local sky = display.newImage( "bkg_clouds.png" )
sky.x = 160; sky.y = 195
 
local ground = display.newImage( "ground.png" )
ground.x = 160; ground.y = 445
 
physics.addBody( ground, "static", { friction=0.5, bounce=0.3 } )
 
local crate = display.newImage( "crate.png" )
crate.x = 180; crate.y = -50; crate.rotation = 5
 
physics.addBody( crate, { density=3.0, friction=0.5, bounce=0.3 } )</pre>
</section>
<section id="circular-body-1" class="level5">
<h5>Circular Body</h5>
<pre class="brush: lua;">local ball = display.newImage( "ball.png" )
 
physics.addBody( ball, { density=1.0, friction=0.3, bounce=0.2, radius=25 } )</pre>
</section>
<section id="polygonal-body-1" class="level5">
<h5>Polygonal Body</h5>
<pre class="brush: lua;">local pentagon = display.newImage("pentagon.png")
 
local pentagonShape = { 0,-37, 37,-10, 23,34, -23,34, -37,-10 }
 
physics.addBody( pentagon, { density=3.0, friction=0.8, bounce=0.3, shape=pentagonShape } )</pre>
</section>
<section id="multi-element-body" class="level5">
<h5>Multi-Element Body</h5>
<pre class="brush: lua;">local nebula = display.newImage( "nebula.png" )
nebula.x, nebula.y = display.contentCenterX, display.contentCenterY

local podT = {1,-89, 14,-83, 20,-70, 14,-57, 1,-51, -12,-57, -18,-70, -12,-83}
local podR = {69,-20, 82,-14, 88,-1, 82,12, 69,18, 56,12, 50,-1, 56,-14}
local podB = {1,49, 14,55, 20,68, 14,81, 1,87, -12,81, -18,68, -12,55}
local podL = {-70,-20, -57,-14, -51,-1, -57,12, -70,18, -83,12, -89,-1, -83,-14}

physics.addBody( nebula, "dynamic",
    { friction=0.2, bounce=0.4, shape=podT },
    { friction=0.8, bounce=0.0, shape=podR },
    { friction=0.8, bounce=0.0, shape=podB },
    { friction=0.2, bounce=0.4, shape=podL }
)</pre>
</section>
<section id="offsetangled-rectangular-body-1" class="level5">
<h5>Offset/Angled Rectangular Body</h5>
<pre class="brush: lua;">local body = display.newRect( 100, 200, 40, 40 )

local offsetRectParams = { halfWidth=5, halfHeight=10, x=10, y=0, angle=60 }

physics.addBody( body, "dynamic", { box=offsetRectParams } )</pre>
</section>
<section id="edge-shape-chain-body-1" class="level5">
<h5>Edge Shape (Chain) Body</h5>
<pre class="brush: lua;">local body = display.newRect( 150, 200, 40, 40 )

physics.addBody( body, "static",
    {
        chain={ -120,-140, -100,-90, -80,-60, -40,-20, 0,0, 40,0, 70,-10, 110,-20, 140,-20, 180,-10 },
        connectFirstAndLastChainVertex = true
    }
)</pre>
</section>
<section id="outline-body-1" class="level5">
<h5>Outline Body</h5>
<pre class="brush: lua;">local image_name = "star.png"

local image_outline = graphics.newOutline( 2, image_name )

local image_star = display.newImageRect( image_name, 32, 32 )

physics.addBody( image_star, { outline=image_outline } )</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
