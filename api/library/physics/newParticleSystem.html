<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — API Reference | Libraries | physics | newParticleSystem</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#physics.newparticlesystem">physics.newParticleSystem()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#gotchas">Gotchas</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#params-required">params <sub><sup>(required)</sup></sub></a></li>
</ul></li>
<li><a href="#parameter-reference">Parameter Reference</a><ul>
<li><a href="#filename-required">filename <sub><sup>(required)</sup></sub></a></li>
<li><a href="#basedir-optional">baseDir <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#density-optional">density <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#gravityscale-optional">gravityScale <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#radius-optional">radius <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#imageradius-optional">imageRadius <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#maxcount-optional">maxCount <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#pressurestrength-optional">pressureStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#dampingstrength-optional">dampingStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#elasticstrength-optional">elasticStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#springstrength-optional">springStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#viscousstrength-optional">viscousStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#surfacetensionpressurestrength-optional">surfaceTensionPressureStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#surfacetensionnormalstrength-optional">surfaceTensionNormalStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#repulsivestrength-optional">repulsiveStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#powderstrength-optional">powderStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#ejectionstrength-optional">ejectionStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#staticpressurestrength-optional">staticPressureStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#staticpressurerelaxation-optional">staticPressureRelaxation <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#staticpressureiterations-optional">staticPressureIterations <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#strictcontactcheck-optional">strictContactCheck <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#colormixingstrength-optional">colorMixingStrength <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#destroybyage-optional">destroyByAge <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#lifetimegranularity-optional">lifetimeGranularity <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#blendequation-optional">blendEquation <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#blendmode-optional">blendMode <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#examples">Examples</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../api/index.html">API Reference</a>  ▸  <a href="../../../api/library/index.html">Libraries</a>  ▸  <a href="../../../api/library/physics/index.html">physics</a>  ▸  <a href="../../../api/library/physics/newParticleSystem.html">newParticleSystem</a>
</div>
<section id="physics.newparticlesystem" class="level1">
<h1>physics.newParticleSystem()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Library</strong></td>
<td style="text-align: left;"><a href="../../../api/library/physics/index.html">physics.*</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;"><a href="../../../api/type/ParticleSystem/index.html">ParticleSystem</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">newParticleSystem, physics, particle, LiquidFun</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../../api/type/ParticleSystem/createParticle.html">object:createParticle()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../../api/type/ParticleSystem/createGroup.html">object:createGroup()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>A <a href="../../../api/type/ParticleSystem/index.html">ParticleSystem</a> object contains particles with liquid-like behavior under the <a href="https://google.github.io/liquidfun/">LiquidFun</a> framework.</p>
<p>Once you create a particle system, you can generate particles using <a href="../../../api/type/ParticleSystem/createParticle.html">object:createParticle()</a> or <a href="../../../api/type/ParticleSystem/createGroup.html">object:createGroup()</a>.</p>
</section>
<section id="gotchas" class="level2">
<h2>Gotchas</h2>
<ul>
<li><p>Particles can only collide with other particles in the same particle system.</p></li>
<li><p>To remove a particle system, use <code>particleSystem:removeSelf()</code> or <code>display.remove( particleSystem )</code>.</p></li>
<li><p>This call cannot be used in a collision event. However, your collision handler may set a flag or include a time delay via <a href="../../../api/library/timer/performWithDelay.html">timer.performWithDelay()</a> so that the action can occur in the next application cycle or later. See the <a href="../../../guide/physics/collisionDetection/index.html">Collision Detection</a> guide for a complete list of which APIs and methods are subject to this rule.</p></li>
</ul>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">physics.newParticleSystem( params )</pre>
<section id="params-required" class="level5">
<h5>params <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/Table.html">Table</a>.</em> A table that specifies the properties of the particle system — see the next section for valid entries.</p>
</section>
</section>
<section id="parameter-reference" class="level2">
<h2>Parameter Reference</h2>
<section id="filename-required" class="level5">
<h5>filename <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../../api/type/String.html">String</a>.</em> The name of the texture file you want to use for each individual particle instance.</p>
</section>
<section id="basedir-optional" class="level5">
<h5>baseDir <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Constant.html">Constant</a>.</em> By default, texture files are expected to be in the project folder (<code>system.ResourceDirectory</code>). If the texture file is in the <a href="api.library.system.DocumentsDirectory">documents</a> directory, use <code>system.DocumentsDirectory</code>.</p>
</section>
<section id="density-optional" class="level5">
<h5>density <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> This numerical property controls the density of particles. This value is <code>1.0</code> by default.</p>
</section>
<section id="gravityscale-optional" class="level5">
<h5>gravityScale <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> This numerical property controls the scaling of gravity. This value is <code>1.0</code> by default.</p>
</section>
<section id="radius-optional" class="level5">
<h5>radius <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> The radius of the physical body for each generated particle.</p>
</section>
<section id="imageradius-optional" class="level5">
<h5>imageRadius <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> If defined, the particle image will be rendered at a different radius than the physical body. Otherwise, the image will be rendered at the value of <code>radius</code>.</p>
</section>
<section id="maxcount-optional" class="level5">
<h5>maxCount <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> This numerical property controls the maximum number of particles. This value is <code>0</code> by default, indicating no maximum limit.</p>
</section>
<section id="pressurestrength-optional" class="level5">
<h5>pressureStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Increases pressure in response to compression. Smaller values allow more compression.</p>
</section>
<section id="dampingstrength-optional" class="level5">
<h5>dampingStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Reduces velocity along the collision normal. Smaller value reduces less.</p>
</section>
<section id="elasticstrength-optional" class="level5">
<h5>elasticStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Restores shape of elastic particle groups. Larger values increase elastic particle velocity.</p>
</section>
<section id="springstrength-optional" class="level5">
<h5>springStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Restores length of spring particle groups. Larger values increase sprint particle velocity.</p>
</section>
<section id="viscousstrength-optional" class="level5">
<h5>viscousStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Reduces relative velocity of viscous particles. Larger values slow down viscous particles more.</p>
</section>
<section id="surfacetensionpressurestrength-optional" class="level5">
<h5>surfaceTensionPressureStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Produces pressure on tensile particles in a range of about <code>0</code> to <code>0.2</code>. Larger values increase the amount of surface tension.</p>
</section>
<section id="surfacetensionnormalstrength-optional" class="level5">
<h5>surfaceTensionNormalStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Smoothes outline of tensile particles in a range of about <code>0</code> to <code>0.2</code>. Larger values result in rounder, smoother, <nobr>water-like</nobr> clusters of particles.</p>
</section>
<section id="repulsivestrength-optional" class="level5">
<h5>repulsiveStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Produces additional pressure on repulsive particles. Larger values repulse more and negative values mean attraction. The stability range of particles is about <code>-0.2</code> to <code>2.0</code>.</p>
</section>
<section id="powderstrength-optional" class="level5">
<h5>powderStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Produces repulsion between powder particles. Larger values repulse more.</p>
</section>
<section id="ejectionstrength-optional" class="level5">
<h5>ejectionStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Pushes particles out of solid particle group. Larger values repulse more.</p>
</section>
<section id="staticpressurestrength-optional" class="level5">
<h5>staticPressureStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Produces static pressure. Larger values increase the pressure on neighboring particles. For a description of static pressure, refer <a href="https://en.wikipedia.org/wiki/Static_pressure#Static_pressure_in_fluid_dynamics">here</a>.</p>
</section>
<section id="staticpressurerelaxation-optional" class="level5">
<h5>staticPressureRelaxation <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Reduces instability in static pressure calculation. Larger values stabilize static pressure with fewer iterations.</p>
</section>
<section id="staticpressureiterations-optional" class="level5">
<h5>staticPressureIterations <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Changes the number of iterations when calculating the static pressure of particles. By default this is <code>8</code> iterations. You can reduce the number of iterations down to <code>1</code> in some situations, but this may cause instability when many particles come together. If you see particles popping away from each other like popcorn, you may have to increase the number of iterations. For a description of static pressure, refer <a href="https://en.wikipedia.org/wiki/Static_pressure#Static_pressure_in_fluid_dynamics">here</a>.</p>
</section>
<section id="strictcontactcheck-optional" class="level5">
<h5>strictContactCheck <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Boolean.html">Boolean</a>.</em> Specifies whether the strict particle/body contact check should be enabled. This value is <code>false</code> by default.</p>
</section>
<section id="colormixingstrength-optional" class="level5">
<h5>colorMixingStrength <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Determines how fast colors are mixed. A value of <code>1.0</code> mixes particles immediately while a value of <code>0.5</code> mixes particles halfway on each simulation step.</p>
</section>
<section id="destroybyage-optional" class="level5">
<h5>destroyByAge <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Boolean.html">Boolean</a>.</em> Specifies whether to destroy particles by age when no more particles can be created.</p>
</section>
<section id="lifetimegranularity-optional" class="level5">
<h5>lifetimeGranularity <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/Number.html">Number</a>.</em> Granularity of particle lifetimes in seconds. The maximum lifetime of a particle is <code>(2^32 - 1) / (1.0f / lifetimeGranularity)</code> seconds, so with the value set to <code>1/60</code> the maximum lifetime or age of a particle is 2.27 years.</p>
</section>
<section id="blendequation-optional" class="level5">
<h5>blendEquation <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/String.html">String</a>.</em> Sets the particle blending equation. Acceptable values are <code>"subtract"</code>, <code>"reverseSubtract"</code>, or <code>"disabled"</code>.</p>
</section>
<section id="blendmode-optional" class="level5">
<h5>blendMode <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../../api/type/String.html">String</a> or <a href="../../../api/type/Table.html">Table</a>.</em> Sets the particle blending mode. Acceptable string values are <code>"add"</code>, <code>"multiply"</code>, <code>"screen"</code>, or <code>"normal"</code>. This can also be a table of <nobr>key-value</nobr> pairs based on the custom blend modes described <a href="../../../api/type/Paint/blendMode.html#custom-blend-modes">here</a>. For example:</p>
<div class="code-indent" style="width:650px;">
<pre class="brush: lua;">blendMode = { srcColor="one", srcAlpha="one", dstColor="one", dstAlpha="one" }</pre>
</div>
</section>
</section>
<section id="examples" class="level2">
<h2>Examples</h2>
<pre class="brush: lua;">local particleSystem = physics.newParticleSystem(
    {
        filename = "particle.png",
        radius = 3
    }
)</pre>
<pre class="brush: lua;">local particleSystem = physics.newParticleSystem(
    {
        filename = "particle.png",
        radius = 4,
        imageRadius = 6,
        colorMixingStrength = 0.1,
        blendMode = "add"
    }
)</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
