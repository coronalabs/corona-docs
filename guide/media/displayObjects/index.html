<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Developer Guides | Graphics/Audio/Animation</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#display-objects-images-text-shapes-etc.">Display Objects — Images, Text, Shapes, etc.</a><ul>
<li><a href="#creating-display-objects">Creating Display Objects</a></li>
<li><a href="#properties-and-methods">Properties and Methods</a></li>
<li><a href="#display-hierarchy">Display Hierarchy</a><ul>
<li><a href="#inline-method">Inline Method</a></li>
<li><a href="#direct-method">Direct Method</a></li>
</ul></li>
<li><a href="#object-order">Object Order</a></li>
<li><a href="#screen-updates">Screen Updates</a></li>
<li><a href="#object-references">Object References</a></li>
<li><a href="#removing-display-objects">Removing Display Objects</a><ul>
<li><a href="#direct-removal">Direct Removal</a></li>
<li><a href="#group-removal">Group Removal</a></li>
</ul></li>
<li><a href="#technical-notes">Technical Notes</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../guide/index.html">Developer Guides</a>  ▸  <a href="../../../guide/media/index.html">Graphics/Audio/Animation</a>
</div>
<section id="display-objects-images-text-shapes-etc." class="level1">
<h1>Display Objects — Images, Text, Shapes, etc.</h1>
<p>Corona <strong>display objects</strong> encompass a wide range of visual objects that you place on the stage or within display groups. These include images, text, shapes, lines, animated sprites, and more.</p>
<div class="guides-toc">
<ul>
<li><a href="#creating">Creating Display Objects</a></li>
<li><a href="#propertiesmethods">Properties and Methods</a></li>
<li><a href="#hierarchy">Display Hierarchy</a></li>
<li><a href="#objectorder">Object Order</a></li>
<li><a href="#screenupdates">Screen Updates</a></li>
<li><a href="#reference">Object References</a></li>
<li><a href="#remove">Removing Display Objects</a></li>
<li><a href="#technotes">Technical Notes</a></li>
</ul>
</div>
<p><a id="creating"></a></p>
<section id="creating-display-objects" class="level2">
<h2>Creating Display Objects</h2>
<p>Display objects are easily created using methods from Corona’s <a href="../../../api/library/display/index.html">display</a> library:</p>
<div class="inner-table">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Object</th>
<th style="text-align: left;">Method</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Display Group</td>
<td style="text-align: left;"><a href="../../../api/library/display/newGroup.html">display.newGroup()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Standard Image</td>
<td style="text-align: left;"><a href="../../../api/library/display/newImage.html">display.newImage()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dynamically-Selected Image</td>
<td style="text-align: left;"><a href="../../../api/library/display/newImageRect.html">display.newImageRect()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Text</td>
<td style="text-align: left;"><a href="../../../api/library/display/newText.html">display.newText()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Animated Sprite</td>
<td style="text-align: left;"><a href="../../../api/library/display/newSprite.html">display.newSprite()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Rectangle</td>
<td style="text-align: left;"><a href="../../../api/library/display/newRect.html">display.newRect()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Circle</td>
<td style="text-align: left;"><a href="../../../api/library/display/newCircle.html">display.newCircle()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Rounded Rectangle</td>
<td style="text-align: left;"><a href="../../../api/library/display/newRoundedRect.html">display.newRoundedRect()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Line</td>
<td style="text-align: left;"><a href="../../../api/library/display/newLine.html">display.newLine()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Polygon</td>
<td style="text-align: left;"><a href="../../../api/library/display/newPolygon.html">display.newPolygon()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Embossed Text</td>
<td style="text-align: left;"><a href="../../../api/library/display/newEmbossedText.html">display.newEmbossedText()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Container</td>
<td style="text-align: left;"><a href="../../../api/library/display/newContainer.html">display.newContainer()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Snapshot</td>
<td style="text-align: left;"><a href="../../../api/library/display/newSnapshot.html">display.newSnapshot()</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Particle Emitter</td>
<td style="text-align: left;"><a href="../../../api/library/display/newEmitter.html">display.newEmitter()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mesh</td>
<td style="text-align: left;"><a href="../../../api/library/display/newMesh.html">display.newMesh()</a></td>
</tr>
</tbody>
</table>
</div>
<div class="guide-notebox">
<div class="notebox-title">
Notes
</div>
<ul>
<li><p>Display objects behave essentially like normal Lua tables. This means that you can add your own properties to an object, as long as they don’t conflict with reserved property or method names. A minor exception is that you cannot index into a display object as an array using numerical indices. See <a href="#technotes">Technical Notes</a> at the end of this guide for more information.</p></li>
<li><p>Most display objects have an <a href="../../../guide/graphics/transform-anchor.html">anchor point</a> which defaults to the object’s <strong>center</strong>. In contrast, display groups do not, by default, respect anchor points. Also, the default origin of display groups is <code>0,0</code> which is located at the <nobr><strong>top-left corner</strong></nobr> of the stage, not the center. Thus, if you simply place a <nobr>non-group</nobr> display object on the stage at coordinates <code>0,0</code>, its center point will be positioned in the <nobr>top-left</nobr> corner of the stage. For more information, please see <a href="../../../guide/graphics/transform-anchor.html">Transforms and Anchors</a> and the <a href="../../../guide/graphics/group.html">Group Programming</a> guide.</p></li>
</ul>
</div>
<p><a id="propertiesmethods"></a></p>
</section>
<section id="properties-and-methods" class="level2">
<h2>Properties and Methods</h2>
<p>Display objects are all first-class citizens. You can move them, rotate them, animate (transition) them, and much more using <a href="../../../api/type/DisplayObject/index.html">common properties and methods</a>.</p>
<p><strong>Properties</strong> are accessed via the <strong>dot operator</strong>. For example, you can change the alpha of an object to 50% by coding:</p>
<pre class="brush: lua;">local myImage = display.newImage( "image.png" )
myImage.alpha = 0.5  --change the alpha property</pre>
<p><strong>Methods</strong> are executed via the <strong>colon operator</strong>. For example, you can translate (move) an object by coding:</p>
<pre class="brush: lua;">local myImage = display.newImage( "image.png" )
myImage:translate( 10, 50 )  --move the object 10 pixels right and 50 pixels down.</pre>
<p><a id="hierarchy"></a></p>
</section>
<section id="display-hierarchy" class="level2">
<h2>Display Hierarchy</h2>
<p>The screen/display in Corona consists of the <a href="../../../api/type/StageObject/index.html">stage</a> and an optional hierarchy of child <a href="../../../api/type/GroupObject/index.html">display groups</a>. A display group is a special kind of display object that can contain child objects. This makes it possible to organize your display objects into groups and build relationships between other groups. Please refer to the <a href="../../../guide/graphics/group.html">Group Programming</a> guide for more information on this topic.</p>
<p>Display objects are added to the stage by default. However, you’ll usually need to insert a display object into a specific display group. This is accomplished through two methods:</p>
<section id="inline-method" class="level3">
<h3>Inline Method</h3>
<p>As a convenience, most display objects accept a display group as the first argument to the API call. This will insert the object into that group.</p>
<pre class="brush: lua;">local myGroup = display.newGroup()

--create object in 'myGroup'
local myImage = display.newImage( myGroup, "image.png" )</pre>
</section>
<section id="direct-method" class="level3">
<h3>Direct Method</h3>
<p>The direct method inserts a display object into the specified group. This method can also be used to move an object from one group to another. Note that an object can’t exist in two groups at once, so inserting it into a different group also removes it from its current group.</p>
<pre class="brush: lua;">local myGroup = display.newGroup()

--create object on the stage (default)
local myImage = display.newImage( "image.png" )

--insert object into 'myGroup'
myGroup:insert( myImage )</pre>
<div class="guide-notebox">
<div class="notebox-title">
Note
</div>
<p>Although display groups are essentially tables, Lua library functions like <code>table.insert()</code> and <code>ipairs()</code> are <strong>not</strong> compatible with groups. In addition, you cannot get the number of children in a display group using <code>#myGroup</code>. Instead, use <code>myGroup.numChildren</code>.</p>
</div>
<p><a id="objectorder"></a></p>
</section>
</section>
<section id="object-order" class="level2">
<h2>Object Order</h2>
<p>Within a particular display group, objects are drawn in back-to-front order. Thus, the <strong>first</strong> object you create will reside <strong>behind</strong> objects created later.</p>
<p>Fortunately, the ordering of display objects is not set in stone. You can change the relative ordering of an object at any time. The order in which a display group’s children are drawn is determined by the order of the array. Using the <code>group:insert()</code> method, you can reorder the position of an object within its parent group.</p>
<pre class="brush: lua;">local square = display.newRect( myGroup, 0, 0, 100, 100 )  --red square is at the bottom
square:setFillColor( 1, 0, 0 )
local circle = display.newCircle( myGroup, 80, 120, 50 )  --green circle is in the middle
circle:setFillColor( 0, 1, 0 )
local rect = display.newRect( myGroup, 0, 0, 120, 80 )  --blue rectangle is at the top
rect:setFillColor( 0, 0, 1 )

--'square', 'circle', and 'rect' all have same parent ('myGroup')
local parent = square.parent
 
--move 'square' to the top (siblings at higher indices reside above those at lower ones)
--conceptually, this just re-inserts the object at the top of its group
parent:insert( square )
 
--move 'circle' 'below all other siblings
parent:insert( 1, circle )</pre>
<p>In addition, objects can also be moved within a group using the <code>object:toBack</code> and <code>object:toFront</code> methods.</p>
<p><a id="screenupdates"></a></p>
</section>
<section id="screen-updates" class="level2">
<h2>Screen Updates</h2>
<p>The basic drawing model involves a cycle of executing Lua code and rendering objects in the display hierarchy. During this cycle, the screen only updates when objects in the display change. These changes occur by adding, removing, or changing properties of the child display objects.</p>
<p>The screen never updates while a block of Lua code is executing. Therefore, if you modify a display object multiple times in a code block — updating the <code>x</code> position, for example — only the <strong>last</strong> change (the final <code>x</code> setting) will reflect when the screen updates.</p>
<p><a id="reference"></a></p>
</section>
<section id="object-references" class="level2">
<h2>Object References</h2>
<p>Because objects can be reordered in the hierarchy, using integer indices to access display group children is fragile. If you move a child above its sibling, all integer indices in your code must be updated.</p>
<p>In most cases, it’s easiest to refer to a display object by its variable name. Variables can be named whatever you wish <strong>except</strong> for names that begin with a number or names that are reserved by Lua or Corona. These naming rules apply to all variables in Lua, so please commit them to memory.</p>
<pre class="brush: lua;">local yellowDuck = display.newText( "Quack!", 50, 50, "Arial", 60 )  --OK!

local orangeTiger22 = display.newText( "Roar!", 50, 50, "Arial", 60 )  --OK!

local 23dog = display.newText( "Woof!", 50, 50, "Arial", 60 )  --unacceptable! (name begins with a number)

local and = display.newText( "and", 50, 50, "Arial", 60 )  --unacceptable! ('and' is a Lua-reserved term)</pre>
<p>Another option is to insert certain display objects into a standard Lua table for organizational purposes. This method is useful if you want to reference a set of objects independent of their display group. For example:</p>
<pre class="brush: lua;">local squares = display.newGroup()

local redSquare1 = display.newRect( squares, 0, 0, 40, 40 )
local redSquare2 = display.newRect( squares, 0, 0, 40, 40 )
local redSquare3 = display.newRect( squares, 0, 0, 40, 40 )
redSquare1:setFillColor( 1, 0, 0 )
redSquare2:setFillColor( 1, 0, 0 )
redSquare3:setFillColor( 1, 0, 0 )

local whiteSquare1 = display.newRect( squares, 0, 0, 40, 40 )
local whiteSquare2 = display.newRect( squares, 0, 0, 40, 40 )
whiteSquare1:setFillColor( 1 )
whiteSquare2:setFillColor( 1 )

--insert only the red squares into a table
local redSquares = { redSquare1, redSquare2, redSquare3 }</pre>
<p>While both the red squares and white squares reside in the <code>squares</code> display group, you can manipulate just the red squares by looping through the <code>redSquares</code> table:</p>
<pre class="brush: lua;">for i = 1, #redSquares do
    --manipulate the square at the current index (i)
    redSquares[i].x = redSquares[i].x + 100
    redSquares[i]:scale( 0.5, 0.5 )
end</pre>
<p>Note that if you use this method to store/organize display objects, you <strong>must</strong> remove the references from the table when the objects are cleared from the screen.</p>
<p><a id="remove"></a></p>
</section>
<section id="removing-display-objects" class="level2">
<h2>Removing Display Objects</h2>
<p>Because devices have limited memory, it’s important to remove display objects from the display hierarchy when you no longer need them. This helps overall system performance by reducing memory consumption (especially texture memory) as well as eliminating unnecessary screen drawing.</p>
<p>There are two basic methods to remove display objects from the display hierarchy.</p>
<section id="direct-removal" class="level3">
<h3>Direct Removal</h3>
<p>This method targets a particular display object and removes it from the display.</p>
<pre class="brush: lua;">display.remove( myObject )

--OR

myObject:removeSelf()

--OR

myGroup:remove( myObject )  --group array index also valid</pre>
<p>However, none of these methods completely frees the memory consumed by the display object. To prevent memory leaks, you <strong>must</strong> eliminate all variable references to a display object. This is achieved by setting the reference to <code>nil</code>.</p>
<pre class="brush: lua;">display.remove ( myObject )
myObject = nil  --set reference to nil!

--OR

myObject:removeSelf()
myObject = nil  --set reference to nil!

--OR

myGroup:remove( myObject )
myObject = nil  --set reference to nil!</pre>
</section>
<section id="group-removal" class="level3">
<h3>Group Removal</h3>
<p>This method removes all children in a display group — all you need to do is remove the display group itself and then <code>nil</code> its reference.</p>
<pre class="brush: lua;">display.remove( myGroup )
myGroup = nil

--OR

myGroup:removeSelf()
myGroup = nil</pre>
<div class="guide-notebox-imp">
<div class="notebox-title-imp">
Important
</div>
<ul>
<li><p>As mentioned in the <a href="#reference">Object References</a> section above, if there are other variables or references that point to a display object, it cannot be completely freed from memory. The solution is to <code>nil</code> out <strong>all</strong> of these external references. Once that is done, Lua can free the memory allocation.</p></li>
<li><p>Global variables are never automatically freed from memory, so if a global variable points to a display object, it will continue to occupy memory even if the object is no longer in the display hierarchy. Remember to <code>nil</code> all global references to display objects.</p></li>
<li><p>When you remove a display object, event listeners that are attached to it — tap and touch listeners, for example — are also freed from memory. You don’t need to explicitly remove event listeners that are isolated to the object.</p></li>
<li><p><a href="../../../api/library/transition/index.html">Transitions</a> that are applied to an object should be cancelled and set to <code>nil</code> before you remove the object. Since display objects are essentially Lua tables, one convenient method is to set the transition as a property of the display object itself. This allows you to easily access and cancel it.</p></li>
</ul>
</div>
<p><a id="technotes"></a></p>
</section>
</section>
<section id="technical-notes" class="level2">
<h2>Technical Notes</h2>
<p>Near the beginning of this guide, we mentioned that display objects behave “essentially” like Lua tables. An exception to this rule is that you cannot set the metatables of display objects. This is due to the nature of our C++/Lua integration in this particular case.</p>
<p>Corona display objects are native C++ objects internally. Lua implements binding of native pointers with “userdata,” which sets the metatable. Userdata metatables cannot be replaced by Lua code; this is a measure defined by Lua itself.</p>
<p>Normally, native objects bound to Lua in this way do not behave like tables. There are several examples of this in Corona. Such objects may have properties and/or methods, but they are not extensible. In contrast, Corona display objects do behave like tables — this is a convenience feature, and the alternative would have been a field of “userdata” providing access to custom data associated with the display object. Merging this functionality directly into the display object is easier and more extensible for the end user.</p>
<p>Essentially, the underlying native bridge is constrained by what is allowed in Lua, and we consider this architectural choice as a fundamental Corona feature. Ultimately, Corona is a C++/OpenGL engine with frameworks designed for rapid development, and these advantages justify the use of metatables for display objects.</p>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
