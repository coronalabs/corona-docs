<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Plugins | Animation | newTimeline</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../guide/index.html">Guides</a></li>
<li><a href="../../api/index.html">API Reference</a></li>
<li><a href="../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../plugin/index.html">Plugins</a></li>
<li><a href="../../native/index.html">Solar2D Native</a></li>
<li><a href="../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#animation.newtimeline">animation.newTimeline()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#timelineparams-required">timelineParams <sub><sup>(required)</sup></sub></a></li>
</ul></li>
<li><a href="#parameter-reference">Parameter Reference</a><ul>
<li><a href="#tweens-required">tweens <sub><sup>(required)</sup></sub></a></li>
<li><a href="#markers-optional">markers <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#autoplay-optional">autoPlay <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#tag-optional">tag <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#id-optional">id <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#delay-optional">delay <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#speedscale-optional">speedScale <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#autocancel-optional">autoCancel <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#onstart-optional">onStart <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#oncomplete-optional">onComplete <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#onpause-optional">onPause <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#onresume-optional">onResume <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#oncancel-optional">onCancel <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#onpositionchange-optional">onPositionChange <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#onmarkerpass-optional">onMarkerPass <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../plugin/index.html">Plugins</a>  ▸  <a href="../../plugin/animation/index.html">Animation</a>  ▸  <a href="../../plugin/animation/newTimeline.html">newTimeline</a>
</div>
<section id="animation.newtimeline" class="level1">
<h1>animation.newTimeline()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;"><a href="../../plugin/animation/type/Timeline/index.html">Timeline</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">animation, tween, timeline, interpolation, newTimeline</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../guide/media/animationLibrary/index.html">Animation — Tweens and Timelines</a> <em>(guide)</em></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../plugin/animation/type/Tween/index.html">Tween</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../plugin/animation/type/Timeline/index.html">Timeline</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>Creates a new <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object. This can contain multiple sequential and/or overlapping tweens, each performing unique tweens on one or multiple objects. Additionally, you can set time markers anywhere across the span of the timeline as <nobr>jump-to</nobr> points.</p>
<div class="guide-notebox">
<div class="notebox-title">
Note
</div>
<p>By default, timelines begin in a paused state. Thus, your options are:</p>
<ul>
<li><p>Play the timeline immediately by setting the <code>autoPlay</code> parameter to <code>true</code>. In this case, and only for this initial play event, any timeline <code>onResume</code> listener function which you may have specified will <strong>not</strong> be triggered.</p></li>
<li><p>Start it playing by calling <a href="../../plugin/animation/type/Timeline/resume.html">object:resume()</a> on the <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object, or by calling <a href="../../plugin/animation/resume.html">animation.resume()</a> with a reference to the <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object. Note that doing so will trigger the timeline’s <code>onResume</code> listener function, if you’ve specified one.</p></li>
</ul>
</div>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">animation.newTimeline( timelineParams )</pre>
<section id="timelineparams-required" class="level5">
<h5>timelineParams <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../api/type/Table.html">Table</a>.</em> A table which specifies the child tweens, markers, and other parameters for the timeline — see the next section for details.</p>
</section>
</section>
<section id="parameter-reference" class="level2">
<h2>Parameter Reference</h2>
<section id="tweens-required" class="level5">
<h5>tweens <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../api/type/Table.html">Table</a>.</em> A table containing child tables, each specifying a tween to be included in the timeline. Each of these tables accept the following <nobr>key-value</nobr> pairs:</p>
<ul>
<li><code>startTime</code> — Optional <a href="../../api/type/Number.html">number</a> of milliseconds into the timeline progression at which the tween should start. Default is <code>0</code> (start of the timeline).</li>
<li><code>tween</code> — Required <a href="../../api/type/Table.html">table</a> which configures the tween. This tween should be configured similarly to <a href="../../plugin/animation/to.html#syntax">animation.to()</a>, containing the target object to animate along with properties and parameters.</li>
<li><code>useFrom</code> — Optional <a href="../../api/type/Boolean.html">boolean</a> property which, if set to <code>true</code>, will make the tween behave as if it were declared by <a href="../../plugin/animation/from.html">animation.from()</a>.</li>
</ul>
<p>For example, the following <code>tweens</code> table configures two individual tweens for a timeline:</p>
<pre class="brush: lua;">    tweens = {
        { startTime=0, tween={ object1, { x=400 }, { time=4000, iterations=5, reflect=true } } },
        { startTime=1000, tween={ object1, { y=400 }, { time=4000, easing=easing.outQuad } } }
    }</pre>
</section>
<section id="markers-optional" class="level5">
<h5>markers <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Table.html">Table</a>.</em> An optional table of time markers to associate with the timeline. These markers allow you to specify named <nobr>jump-to</nobr> points within the timeline. Each should be defined as a <a href="../../api/type/Table.html">table</a> which may contain the following properties:</p>
<ul>
<li><code>name</code> — A <a href="../../api/type/String.html">string</a> name to associate with the marker. This name can be used to reference the marker in other commands such as <a href="../../plugin/animation/type/Timeline/setPosition.html">object:setPosition()</a> and <a href="../../plugin/animation/setPosition.html">animation.setPosition()</a>. This name should be <strong>unique</strong> (you should not use duplicate marker names within the same timeline).</li>
<li><code>time</code> — The <a href="../../api/type/Number.html">number</a> of milliseconds into the timeline progression at which to set the marker.</li>
<li><code>params</code> — An optional <a href="../../api/type/Table.html">table</a> which can contain custom information; this table will be passed to the <code>onMarkerPass</code> listener function (<a href="#onMarkerPass">details</a>).</li>
</ul>
<p>For example, this <code>markers</code> table configures three time markers for a timeline:</p>
<pre class="brush: lua;">    markers = {
        { name="marker_start", time=0 },    -- Start of the timeline
        { name="marker_2000", time=2000 },  -- 2 seconds into the timeline
        { name="marker_3000", time=3000 }   -- 3 seconds into the timeline
    }</pre>
</section>
<section id="autoplay-optional" class="level5">
<h5>autoPlay <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Boolean.html">Boolean</a>.</em> If <code>true</code>, the timeline will begin playing immediately. Default is <code>false</code>.</p>
</section>
<section id="tag-optional" class="level5">
<h5>tag <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/String.html">String</a>.</em> Specifies the timeline tag. The animation library can pause, resume, cancel, set the position, or change the speed scale of timelines sharing the same tag.</p>
</section>
<section id="id-optional" class="level5">
<h5>id <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/String.html">String</a>.</em> An optional identification string to assign to the timeline. This can be retrieved as <code>obj.id</code> from any of the timeline event listener functions (see below).</p>
</section>
<section id="delay-optional" class="level5">
<h5>delay <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Number.html">Number</a>.</em> Specifies the delay, in milliseconds, before the timeline begins playing. Default is <code>0</code>.</p>
</section>
<section id="speedscale-optional" class="level5">
<h5>speedScale <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Number.html">Number</a>.</em> Adjusts the relative speed scale for the timeline. This must be a positive number greater than <code>0</code>. By default, the speed scale is <code>1</code> (normal speed). Values greater than <code>1</code> will increase the speed while values lower than <code>1</code> will decrease it.</p>
</section>
<section id="autocancel-optional" class="level5">
<h5>autoCancel <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Boolean.html">Boolean</a>.</em> If set to <code>true</code>, all child tweens (and the timeline itself) will be cancelled upon completion of the timeline. This should only be done if you don’t intend to replay the timeline again after its first play through. Default is <code>false</code>.</p>
<p><a id="timeline-events"></a></p>
</section>
<section id="onstart-optional" class="level5">
<h5>onStart <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called directly before the timeline begins. This function will receive a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object as its sole argument.</p>
</section>
<section id="oncomplete-optional" class="level5">
<h5>onComplete <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called after the timeline completes. This function will receive a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object as its sole argument.</p>
</section>
<section id="onpause-optional" class="level5">
<h5>onPause <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called when the timeline is paused. This function will receive a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object as its sole argument.</p>
</section>
<section id="onresume-optional" class="level5">
<h5>onResume <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called when the timeline is resumed. This function will receive a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object as its sole argument.</p>
</section>
<section id="oncancel-optional" class="level5">
<h5>onCancel <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called when the timeline is cancelled. This function will receive a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object as its sole argument.</p>
</section>
<section id="onpositionchange-optional" class="level5">
<h5>onPositionChange <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called when the timeline has its playback position changed manually via <a href="../../plugin/animation/type/Timeline/setPosition.html">object:setPosition()</a> or <a href="../../plugin/animation/setPosition.html">animation.setPosition()</a>. This function will receive a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object as its sole argument.</p>
<p><a id="onMarkerPass"></a></p>
</section>
<section id="onmarkerpass-optional" class="level5">
<h5>onMarkerPass <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Listener.html">Listener</a>.</em> Listener function to be called when a marker within the timeline is reached/passed. This function will receive a <a href="../../api/type/Table.html">table</a> containing a reference to the associated <a href="../../plugin/animation/type/Timeline/index.html">Timeline</a> object (<code>timeline</code>), along with the <code>name</code> property and optional <code>params</code> table that was assigned to the specific marker.</p>
</section>
</section>
<section id="example" class="level2">
<h2>Example</h2>
<pre class="brush: lua;">local object1 = display.newRect( 50, 50, 100, 100 )

local function timelineListener( obj )
    print( "Timeline completed; ID: " .. obj.id )
end

-- Create a timeline object
local timelineParams = {
    tweens = {
        { startTime=0, tween={ object1, { x=400 }, { time=4000, iterations=5, reflect=true } } },
        { startTime=1000, tween={ object1, { y=400 }, { time=4000, easing=easing.outQuad } } }
    },
    markers = {
        { name="marker_start", time=0 },
        { name="marker_2000", time=2000 }
    },
    id = "timeline1",
    onComplete = timelineListener
}
local newTimeline = animation.newTimeline( timelineParams )

-- Set the timeline playing
newTimeline:resume()</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
