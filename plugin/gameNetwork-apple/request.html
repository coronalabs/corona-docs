<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Plugins | Apple Game Center | request</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../guide/index.html">Guides</a></li>
<li><a href="../../api/index.html">API Reference</a></li>
<li><a href="../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../plugin/index.html">Plugins</a></li>
<li><a href="../../native/index.html">Solar2D Native</a></li>
<li><a href="../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#gamenetwork.request">gameNetwork.request()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#command-required">command <sub><sup>(required)</sup></sub></a></li>
<li><a href="#params-optional">params <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#command-reference">Command Reference</a></li>
<li><a href="#parameter-reference">Parameter Reference</a><ul>
<li><a href="#listener-function">Listener Function</a></li>
<li><a href="#set-high-score">Set High Score</a></li>
<li><a href="#load-scores">Load Scores</a></li>
<li><a href="#load-local-player">Load Local Player</a></li>
<li><a href="#load-players">Load Players</a></li>
<li><a href="#load-friends">Load Friends</a></li>
<li><a href="#load-achievements">Load Achievements</a></li>
<li><a href="#unlock-achievement">Unlock Achievement</a></li>
<li><a href="#reset-achievements">Reset Achievements</a></li>
<li><a href="#load-achievement-descriptions">Load Achievement Descriptions</a></li>
<li><a href="#load-max-friend-request-recipients">Load Max Friend Request Recipients</a></li>
<li><a href="#load-leaderboard-categories">Load Leaderboard Categories</a></li>
<li><a href="#load-player-photo">Load Player Photo</a></li>
<li><a href="#load-achievement-image">Load Achievement Image</a></li>
<li><a href="#load-completed-achievement-placeholder-image">Load Completed Achievement Placeholder Image</a></li>
<li><a href="#load-incomplete-achievement-image">Load Incomplete Achievement Image</a></li>
<li><a href="#load-current-player">Load Current Player</a></li>
<li><a href="#create-match">Create Match</a></li>
<li><a href="#quit-match">Quit Match</a></li>
<li><a href="#end-match">End Match</a></li>
<li><a href="#remove-match">Remove Match</a></li>
<li><a href="#set-match-event-listener">Set Match Event Listener</a></li>
<li><a href="#load-match-data">Load Match Data</a></li>
<li><a href="#end-turn">End Turn</a></li>
<li><a href="#load-matches">Load Matches</a></li>
<li><a href="#load-max-turn-based-participants">Load Max Turn-Based Participants</a></li>
</ul></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../plugin/index.html">Plugins</a>  ▸  <a href="../../plugin/gameNetwork-apple/index.html">Apple Game Center</a>  ▸  <a href="../../plugin/gameNetwork-apple/request.html">request</a>
</div>
<section id="gamenetwork.request" class="level1">
<h1>gameNetwork.request()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Library</strong></td>
<td style="text-align: left;"><a href="../../api/library/gameNetwork/index.html">gameNetwork.*</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;">none</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">gameNetwork, Game Center</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../plugin/gameNetwork-apple/init.html">gameNetwork.init()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../plugin/gameNetwork-apple/show.html">gameNetwork.show()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>Send or request information to/from <a href="https://developer.apple.com/game-center/">Game Center</a>.</p>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">gameNetwork.request( command [, params] )</pre>
<section id="command-required" class="level5">
<h5>command <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../api/type/String.html">String</a>.</em> String value as supported by Game Center — see <a href="#commands">Command Reference</a> below.</p>
</section>
<section id="params-optional" class="level5">
<h5>params <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Table.html">Table</a>.</em> Table of parameters allowed by Game Center — see <a href="#params">Parameter Reference</a> below.</p>
<p><a id="commands"></a></p>
</section>
</section>
<section id="command-reference" class="level2">
<h2>Command Reference</h2>
<p>For the <code>command</code> parameter, Game Center supports the following values:</p>
<ul>
<li><code>"setHighScore"</code></li>
<li><code>"loadScores"</code></li>
<li><code>"loadLocalPlayer"</code></li>
<li><code>"loadPlayers"</code></li>
<li><code>"loadFriends"</code></li>
<li><code>"loadAchievements"</code></li>
<li><code>"unlockAchievement"</code></li>
<li><code>"resetAchievements"</code></li>
<li><code>"loadAchievementDescriptions"</code></li>
<li><code>"loadFriendRequestMaxNumberOfRecipients"</code></li>
<li><code>"loadLeaderboardCategories"</code></li>
<li><code>"loadPlayerPhoto"</code></li>
<li><code>"loadAchievementImage"</code></li>
<li><code>"loadPlaceholderCompletedAchievementImage"</code></li>
<li><code>"loadIncompleteAchievementImage"</code></li>
<li><code>"loadCurrentPlayer"</code></li>
<li><code>"createMatch"</code></li>
<li><code>"quitMatch"</code></li>
<li><code>"endMatch"</code></li>
<li><code>"removeMatch"</code></li>
<li><code>"setEventListener"</code></li>
<li><code>"loadMatchData"</code></li>
<li><code>"endTurn"</code></li>
<li><code>"loadMatches"</code></li>
<li><code>"loadTurnBasedMatchMaxNumberOfParticipants"</code></li>
</ul>
<p><a id="params"></a></p>
</section>
<section id="parameter-reference" class="level2">
<h2>Parameter Reference</h2>
<p>Depending on the specified <code>command</code> parameter, the contents of the <code>params</code> table will vary.</p>
<section id="listener-function" class="level3">
<h3>Listener Function</h3>
<p>For all calls to <code>gameNetwork.request()</code>, the <code>params</code> table supports a <code>listener</code> key with its value as a callback listener function to monitor the call result. In the callback listener, <code>event.type</code> indicates the request that was executed, along with other data specific to each request type as outlined below.</p>
<pre class="brush: lua;">local function requestCallback( event )

    if ( event.type == "setHighScore" ) then
        -- High score has been set
    end
end

gameNetwork.request( "setHighScore",
    {
        localPlayerScore = { category="com.appledts.EasyTapList", value=25 },
        listener = requestCallback
    }
)</pre>
</section>
<section id="set-high-score" class="level3">
<h3>Set High Score</h3>
<p>For the <code>command</code> parameter of <code>"setHighScore"</code>, this function sets a high score for the currently <nobr>logged-in</nobr> user for the specified leaderboard (<code>category</code>). If the high score is not higher than the one currently on the server, the server will keep the highest value.</p>
<pre class="brush: lua;">gameNetwork.request( "setHighScore",
    {
        localPlayerScore = { category="com.appledts.EasyTapList", value=25 },
        listener = requestCallback
    }
)</pre>
<p>In the <code>params</code> table, <code>localPlayerScore</code> is a required table inside which the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>category</code> — String that matches the leaderboard ID for which you want to register the score, as configured in iTunes Connect.</p></li>
<li><p><code>value</code> — Number representing the score. Note that Apple allows for <nobr>64-bit</nobr> integers, but all numbers in Lua are of type double. This means that your maximum and minimum values are restricted to the range of double which is about <code>2^51</code> instead of <code>2^64</code>.</p></li>
</ul>
</section>
<section id="load-scores" class="level3">
<h3>Load Scores</h3>
<p>For the <code>command</code> parameter of <code>"loadScores"</code>, this function retrieves scores based on various filters.</p>
<pre class="brush: lua;">gameNetwork.request( "loadScores",
    {
        leaderboard =
        {
            category = "com.appledts.EasyTapList",
            playerScope = "Global",  -- "Global" or "FriendsOnly"
            timeScope = "AllTime",   -- "AllTime", "Week", or "Today"
            range = { 1,5 }
        },
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>leaderboard</code> is a required table inside which the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>category</code> — Required string that matches the leaderboard ID from which you want to fetch scores, as configured in iTunes Connect.</p></li>
<li><p><code>playerScope</code> — Optional string of either <code>"Global"</code> or <code>"FriendsOnly"</code>. The latter setting will restrict the fetched scores to only friends.</p></li>
<li><p><code>timeScope</code> — Optional string of either <code>"AllTime"</code>, <code>"Week"</code>, or <code>"Today"</code> which limits the fetched scores to a specified time range.</p></li>
<li><p><code>range</code> — Optional array of two integer values. The first value is a start index and the second value is the number of players to retrieve (less than 100). The default range is <code>{ 1,25 }</code>.</p></li>
</ul>
<p>When handling the results of a <code>"loadScores"</code> call, <code>event.data</code> in the callback listener is an array of items (tables), each of which contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>category</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>value</code> (<a href="../../api/type/Number.html">number</a>)</li>
<li><code>context</code> (<a href="../../api/type/Number.html">number</a>)</li>
<li><code>date</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>formattedValue</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>rank</code> (<a href="../../api/type/Number.html">integer</a>)</li>
<li><code>shouldSetDefaultLeaderboard</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>unixTime</code> (<a href="../../api/type/Number.html">integer</a>)</li>
</ul>
<pre class="brush: lua;">event.data[1].playerID  -- ID of the first player in the request
event.data[3].rank      -- Rank of the third player in the request</pre>
<p>In addition, the <code>event.localPlayerScore</code> table is accessible for the <nobr>logged-in</nobr> player. This contains all of the properties shown above.</p>
<div style="width: 400px;">
<pre class="brush: lua;">event.localPlayerScore.playerID
event.localPlayerScore.rank</pre>
</div>
</section>
<section id="load-local-player" class="level3">
<h3>Load Local Player</h3>
<p>For the <code>command</code> parameter of <code>"loadLocalPlayer"</code>, this function requests data for the currently <nobr>logged-in</nobr> player.</p>
<pre class="brush: lua;">gameNetwork.request( "loadLocalPlayer", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadLocalPlayer"</code> call, <code>event.data</code> in the callback listener contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>alias</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>isFriend</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>isAuthenticated</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>isUnderage</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>friends</code> (<a href="../../api/type/Array.html">array</a>) — Array of player IDs (<a href="../../api/type/String.html">strings</a>) representing the friends of the local player.</li>
</ul>
<div style="width: 400px;">
<pre class="brush: lua;">event.data.playerID
event.data.alias</pre>
</div>
</section>
<section id="load-players" class="level3">
<h3>Load Players</h3>
<p>For the <code>command</code> parameter of <code>"loadPlayers"</code>, this function requests data for a list of players based on their player IDs.</p>
<pre class="brush: lua;">gameNetwork.request( "loadPlayers",
    {
        playerIDs =
        {
            "G:123456789",
            "G:1234567890",
            "G:0123456789"
        },
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>playerIDs</code> is a required table containing a <nobr>comma-delimited</nobr> list of player IDs (<a href="../../api/type/String.html">strings</a>) to fetch data for.</p>
<p>When handling the results of a <code>"loadPlayers"</code> call, <code>event.data</code> in the callback listener is an array of items (tables) corresponding to each requested player. Each table contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>alias</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>isFriend</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
</ul>
<pre class="brush: lua;">event.data[1].playerID  -- ID of the first player in the request
event.data[3].alias     -- Alias of the third player in the request</pre>
</section>
<section id="load-friends" class="level3">
<h3>Load Friends</h3>
<p>For the <code>command</code> parameter of <code>"loadFriends"</code>, this function requests the friends of the currently <nobr>logged-in</nobr> player.</p>
<pre class="brush: lua;">gameNetwork.request( "loadFriends", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadFriends"</code> call, <code>event.data</code> in the callback listener is an array of items (tables) corresponding to each friend.</p>
<div style="width: 400px;">
<pre class="brush: lua;">event.data[2].playerID</pre>
</div>
</section>
<section id="load-achievements" class="level3">
<h3>Load Achievements</h3>
<p>For the <code>command</code> parameter of <code>"loadAchievements"</code>, this function loads a list of the player’s completed achievements for the app.</p>
<pre class="brush: lua;">gameNetwork.request( "loadAchievements", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadAchievements"</code> call, <code>event.data</code> in the callback listener is an array of items (tables) representing each achievement. Each table contains the following properties:</p>
<ul>
<li><code>identifier</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>percentComplete</code> (<a href="../../api/type/Number.html">number</a>)</li>
<li><code>isCompleted</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>isHidden</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>lastReportedDate</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>showsCompletionBanner</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
</ul>
<pre class="brush: lua;">event.data[4].identifier       -- Identifier for the fourth achievement
event.data[2].percentComplete  -- Completed percentage for the second achievement </pre>
</section>
<section id="unlock-achievement" class="level3">
<h3>Unlock Achievement</h3>
<p>For the <code>command</code> parameter of <code>"unlockAchievement"</code>, this function unlocks/sets the specified achievement (<code>identifier</code>) at the specified percentage. The <code>showsCompletionBanner</code> only takes affect if the achievement is 100% complete.</p>
<pre class="brush: lua;">gameNetwork.request( "unlockAchievement",
    {
        achievement =
        {
            identifier = "com.appletest.one_tap",
            percentComplete = 100,
            showsCompletionBanner = true
        },
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>achievement</code> is a required table inside which the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>identifier</code> — Required string that matches the name of the achievement you want to unlock/report, as entered on iTunes Connect (this need not follow the fully qualified reverse domain style shown here).</p></li>
<li><p><code>percentComplete</code> — Optional number representing the completion percentage of the achievement. Setting this value to <code>100</code> will fully unlock the achievement. If this field is omitted, it’s assumed this value is <code>100</code>.</p></li>
<li><p><code>showsCompletionBanner</code> — Optional boolean which, if set to <code>true</code>, will cause Apple to automatically show a completion banner when <code>percentComplete</code> reaches <code>100</code>.</p></li>
</ul>
<p>When handling the results of a <code>"unlockAchievement"</code> call, <code>event.data</code> is a table that corresponds to the achievement that you just unlocked. You may use this information to help identify which/any achievements were successfully reported to the Game Center servers and which ones might have failed due to network timeouts.</p>
</section>
<section id="reset-achievements" class="level3">
<h3>Reset Achievements</h3>
<p>For the <code>command</code> parameter of <code>"resetAchievements"</code>, this function resets all achievements for the currently <nobr>logged-in</nobr> player. Use this with caution because there is no undoing this request — once called, all of the player’s achievements for the app are reset to 0%.</p>
<pre class="brush: lua;">gameNetwork.request( "resetAchievements", { listener=requestCallback } )</pre>
</section>
<section id="load-achievement-descriptions" class="level3">
<h3>Load Achievement Descriptions</h3>
<p>For the <code>command</code> parameter of <code>"loadAchievementDescriptions"</code>, this function requests a list of all descriptions associated with the achievements for the app.</p>
<pre class="brush: lua;">gameNetwork.request( "loadAchievementDescriptions", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadAchievementDescriptions"</code> call, <code>event.data</code> is an array of items (tables) which indicate the descriptions of the currently <nobr>logged-in</nobr> player’s achievements.</p>
<ul>
<li><code>identifier</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>title</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>achievedDescription</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>unachievedDescription</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>maximumPoints</code> (<a href="../../api/type/Number.html">integer</a>)</li>
<li><code>isHidden</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
</ul>
</section>
<section id="load-max-friend-request-recipients" class="level3">
<h3>Load Max Friend Request Recipients</h3>
<p>For the <code>command</code> parameter of <code>"loadFriendRequestMaxNumberOfRecipients"</code>, this function retrieves the maximum number of people that may be invited in a single friend request. The value is returned through the callback listener via <code>event.data</code>.</p>
<pre class="brush: lua;">gameNetwork.request( "loadFriendRequestMaxNumberOfRecipients", { listener=requestCallback } )</pre>
</section>
<section id="load-leaderboard-categories" class="level3">
<h3>Load Leaderboard Categories</h3>
<p>For the <code>command</code> parameter of <code>"loadLeaderboardCategories"</code>, this function requests a list of leaderboard categories for the app.</p>
<pre class="brush: lua;">gameNetwork.request( "loadLeaderboardCategories", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadLeaderboardCategories"</code> call, <code>event.data</code> is an array of items (tables). Each contains the following leaderboard properties:</p>
<ul>
<li><code>category</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>title</code> (<a href="../../api/type/String.html">string</a>)</li>
</ul>
<pre class="brush: lua;">event.data[1].category  --> "com.appledts.EasyTapList"
event.data[1].title     --> "Easy"</pre>
</section>
<section id="load-player-photo" class="level3">
<h3>Load Player Photo</h3>
<p>For the <code>command</code> parameter of <code>"loadPlayerPhoto"</code>, this function retrieves the image of the requested player and creates a display object for it.</p>
<pre class="brush: lua;">gameNetwork.request( "loadPlayerPhoto",
    {
        playerID = "G:0123456789",
        size = "Small",  -- "Small" or "Normal"
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>playerID</code> — Game Center player ID (<a href="../../api/type/String.html">string</a>) to fetch the image for.</p></li>
<li><p><code>size</code> — Optional value representing the size of the image to get back. Supported values are <code>"Small"</code> (default) or <code>"Normal"</code>.</p></li>
</ul>
<p>When handling the results of a <code>"loadPlayerPhoto"</code> call, <code>event.data</code> is a table which contains the properties listed below. Note that the additional <code>photo</code> property is the display object created by a successful request.</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>alias</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>isFriend</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>isAuthenticated</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>isUnderage</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>friends</code> (<a href="../../api/type/Array.html">array</a>)</li>
<li><code>photo</code> (<a href="../../api/type/DisplayObject/index.html">display object</a>)</li>
</ul>
</section>
<section id="load-achievement-image" class="level3">
<h3>Load Achievement Image</h3>
<p>For the <code>command</code> parameter of <code>"loadAchievementImage"</code>, this function retrieves the image of the requested achievement and creates a display object for it.</p>
<pre class="brush: lua;">gameNetwork.request( "loadAchievementImage",
    {
        achievementDescription =
        {
            identifier = "com.appledts.twenty_taps"
        },
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>achievementDescription</code> is a required table inside which the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><code>identifier</code> — Required string that matches the name of the achievement to retrieve the image for (this need not follow the fully qualified reverse domain style shown here).</li>
</ul>
<p>When handling the results of a <code>"loadAchievementImage"</code> call, <code>event.data</code> is a table that contains the properties listed below. Note that the additional <code>image</code> property is the display object created by a successful request.</p>
<ul>
<li><code>identifier</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>title</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>achievedDescription</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>unachievedDescription</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>maximumPoints</code> (<a href="../../api/type/Number.html">integer</a>)</li>
<li><code>isHidden</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>image</code> (<a href="../../api/type/DisplayObject/index.html">display object</a>)</li>
</ul>
<div class="guide-notebox">
<div class="notebox-title">
Note
</div>
<p>Achievement images uploaded to iTunes Connect should be fully compatible with Corona (see <strong>Image Guidelines</strong> for <a href="../../api/library/display/newImage.html">display.newImage()</a>).</p>
</div>
</section>
<section id="load-completed-achievement-placeholder-image" class="level3">
<h3>Load Completed Achievement Placeholder Image</h3>
<p>For the <code>command</code> parameter of <code>"loadPlaceholderCompletedAchievementImage"</code>, this function retrieves the Apple placeholder image of a completed achievement and creates a display object for it, accessible via <code>event.data</code> in the callback listener.</p>
<pre class="brush: lua;">gameNetwork.request( "loadPlaceholderCompletedAchievementImage", { listener=requestCallback } )</pre>
</section>
<section id="load-incomplete-achievement-image" class="level3">
<h3>Load Incomplete Achievement Image</h3>
<p>For the <code>command</code> parameter of <code>"loadIncompleteAchievementImage"</code>, this function retrieves the Apple placeholder image of an incomplete achievement and creates a display object for it, accessible via <code>event.data</code> in the callback listener.</p>
<pre class="brush: lua;">gameNetwork.request( "loadIncompleteAchievementImage", { listener=requestCallback } )</pre>
</section>
<section id="load-current-player" class="level3">
<h3>Load Current Player</h3>
<p>For the <code>command</code> parameter of <code>"loadCurrentPlayer"</code>, this function retrieves the current player who is scheduled to take his/her turn in a match.</p>
<pre class="brush: lua;">gameNetwork.request( "loadCurrentPlayer",
    {
        matchID = "w4o98y3498hg349h",
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><code>matchID</code> — Match ID (<a href="../../api/type/String.html">string</a>) of the match from which you want to fetch the current participant.</li>
</ul>
<p>When handling the results of a <code>"loadCurrentPlayer"</code> call, <code>event.data</code> in the callback listener includes the <a href="../../api/type/GameNetwork/participant.html">participant</a> object.</p>
</section>
<section id="create-match" class="level3">
<h3>Create Match</h3>
<p>For the <code>command</code> parameter of <code>"createMatch"</code>, this function creates a <nobr>turn-based</nobr> match with the specified players. Unlike <nobr><code>gameNetwork.show( "createMatch", ... )</code></nobr> (<a href="../../plugin/gameNetwork-apple/show.html">reference</a>), this simply creates a <a href="../../api/type/GameNetwork/match.html">match</a> object and lets you show a custom user interface.</p>
<p>Note that this call assumes the currently <nobr>logged-in</nobr> player will be part of the match. Thus, you should not include the current player’s ID in the <code>playerIDs</code> table. In addition, ensure that <code>maxPlayers</code> is set to a value which accommodates both the requested number of players and the current player. For example, if you request a match with two players in the <code>playerIDs</code> table, <code>maxPlayers</code> should be set to <code>3</code> or higher.</p>
<pre class="brush: lua;">gameNetwork.request( "createMatch",
    {
        playerIDs = { "w4o98y3498hg349h", "wrighfq547hg543" },
        minPlayers = 2,
        maxPlayers = 3,
        playerGroup = 1,
        playerAttributes = { 1, 4, 6 },
        inviteMessage = "Hi, please join our match!",
        listener = requestCallback
    }
)</pre>
<ul>
<li><p><code>playerIDs</code> — Optional array of strings representing the player IDs of people to invite to the match.</p></li>
<li><p><code>minPlayers</code> — Optional value for the minimum number of players required in the match.</p></li>
<li><p><code>maxPlayers</code> — Optional value for the maximum number of players allowed in the match.</p></li>
<li><p><code>playerGroup</code> — The game type which will be created, for example a quick game or long game. Only players whose requests share the same <code>playerGroup</code> value are <nobr>auto-matched</nobr> by Game Center.</p></li>
<li><p><code>playerAttributes</code> — Mask that specifies the role that the local player would like to play in the game.</p></li>
<li><p><code>inviteMessage</code> — Custom invitation message for the match.</p></li>
</ul>
<p>When handling the results of a <code>"createMatch"</code> call, <code>event.data</code> in the callback listener includes the <a href="../../api/type/GameNetwork/match.html">match</a> object.</p>
</section>
<section id="quit-match" class="level3">
<h3>Quit Match</h3>
<p>For the <code>command</code> parameter of <code>"quitMatch"</code>, this function removes the currently <nobr>logged-in</nobr> player from the specified match and sets his/her match outcome.</p>
<pre class="brush: lua;">gameNetwork.request( "quitMatch",
    {
        matchID = "adsfawerg4",
        outcome = "lost",
        data = "dsfa4wt4t",
        nextParticipant = { "34tgergae5rtg5" },
        listener = requestCallback
    }
)</pre>
<ul>
<li><p><code>matchID</code> — String identifying the match that the player will quit.</p></li>
<li><p><code>outcome</code> — Result of the match for the player that quit.</p></li>
<li><p><code>data</code> — Data of the match for the next player. This is only necessary if it’s the local player’s turn.</p></li>
<li><p><code>nextParticipant</code> — The next player that is scheduled to take a turn, wrapped in an array. This can be the player ID or the index value of the participant. This is only necessary if it’s the local player’s turn.</p></li>
</ul>
<!---

When handling the results of a `"quitMatch"` call, `event.data` in the callback listener includes the [match][api.type.GameNetwork.match] object.

--->
</section>
<section id="end-match" class="level3">
<h3>End Match</h3>
<p>For the <code>command</code> parameter of <code>"endMatch"</code>, this function ends the match and sets the outcome for all players.</p>
<pre class="brush: lua;">gameNetwork.request( "endMatch",
    {
        matchID = "adsfawerg4",
        outcome =
        {
            ["G:0123456789"] = "first",
            ["G:1234567890"] = "second",
            ["G:9876543210"] = "third"
        },
        data = "dsfa4wt4t",
        listener = requestCallback
    }
)</pre>
<p>In the <code>params</code> table, the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>matchID</code> — String identifying the match to end.</p></li>
<li><p><code>outcome</code> — Required array containing the player IDs and the match outcome for each.</p></li>
<li><p><code>data</code> — The final data of the match.</p></li>
</ul>
</section>
<section id="remove-match" class="level3">
<h3>Remove Match</h3>
<p>For the <code>command</code> parameter of <code>"removeMatch"</code>, this function removes the match from the list of matches in Game Center. This should only be called after <nobr><code>gameNetwork.request( "endMatch", ... )</code></nobr> has been executed. Within the <code>params</code> table, <code>matchID</code> is a string identifying the match to remove.</p>
<pre class="brush: lua;">gameNetwork.request( "removeMatch",
    {
        matchID = "adsfawerg4",
        listener = requestCallback
    }
)</pre>
</section>
<section id="set-match-event-listener" class="level3">
<h3>Set Match Event Listener</h3>
<p>For the <code>command</code> parameter of <code>"setEventListener"</code>, this function sets the event listener for all matches.</p>
<pre class="brush: lua;">gameNetwork.request( "setEventListener", { listener=requestCallback } )</pre>
<div class="guide-notebox">
<div class="notebox-title">
Note
</div>
<p>Setting this listener is important so that the app can respond accordingly for other players involved in the match. For example, if the <code>"endTurn"</code> request is called for the current player, the <code>"playerTurn"</code> event will be dispatched to the next player in line.</p>
</div>
<p>When handling the results of a <code>"setEventListener"</code> call, <code>event.type</code> in the callback listener will be one of the following:</p>
<ul>
<li><p><code>"invitationReceived"</code> — The value when the player has received an invitation to join a match.</p></li>
<li><p><code>"matchEnded"</code> — The value when another player has called <nobr><code>gameNetwork.request( "endMatch", ... )</code></nobr>, ending the match for all the players.</p></li>
<li><p><code>"playerTurn"</code> — The value when it’s the current player’s turn in a match, following the <nobr><code>gameNetwork.request( "endTurn", ... )</code></nobr> call for the previous player.</p></li>
</ul>
<p>In turn, <code>event.data</code> in the callback listener will vary depending on the value of <code>event.type</code>:</p>
<ul>
<li><p>When <code>event.type</code> is <code>"invitationReceived"</code>, <code>event.data</code> is an array of strings representing the IDs of all players invited to the match.</p></li>
<li><p>When <code>event.type</code> is <code>"matchEnded"</code> or <code>"playerTurn"</code>, <code>event.data</code> contains the <a href="../../api/type/GameNetwork/match.html">match</a> object.</p></li>
</ul>
</section>
<section id="load-match-data" class="level3">
<h3>Load Match Data</h3>
<p>For the <code>command</code> parameter of <code>"loadMatchData"</code>, this function retrieves the data of a match. Within the <code>params</code> table, <code>matchID</code> is a string identifying the match for which data will be retrieved.</p>
<pre class="brush: lua;">gameNetwork.request( "loadMatchData",
    {
        matchID = "adsfawerg4",
        listener = requestCallback
    }
)</pre>
<p>When handling the results of a <code>"loadMatchData"</code> call, <code>event.data</code> in the callback listener includes the <a href="../../api/type/GameNetwork/match.html">match</a> object, assuming the match has been established.</p>
</section>
<section id="end-turn" class="level3">
<h3>End Turn</h3>
<p>For the <code>command</code> parameter of <code>"endTurn"</code>, this function ends the current player’s turn and lets the next player start their turn.</p>
<pre class="brush: lua;">gameNetwork.request( "endTurn",
    {
        matchID = "adsfawerg4",
        data = "dsfa4wt4t",
        nextParticipant = { "34tgergae5rtg5" },
        listener = requestCallback
    }
)</pre>
<p>Within the <code>params</code> table, the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>matchID</code> — String identifying the match for which the player will end their turn.</p></li>
<li><p><code>data</code> — The data of the match for the next player.</p></li>
<li><p><code>nextParticipant</code> — The next player that is supposed to take a turn, wrapped in an array. This can be the player ID or the index value of the participant.</p></li>
</ul>
<!---

When handling the results of a `"endTurn"` call, `event.data` in the callback listener includes the [match][api.type.GameNetwork.match] object.

-->
</section>
<section id="load-matches" class="level3">
<h3>Load Matches</h3>
<p>For the <code>command</code> parameter of <code>"loadMatches"</code>, this function loads the matches involving the currently <nobr>logged-in</nobr> player and creates a <a href="../../api/type/GameNetwork/match.html">match</a> object for each.</p>
<pre class="brush: lua;">gameNetwork.request( "loadMatches", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadMatches"</code> call, <code>event.data</code> in the callback listener is an array of <a href="../../api/type/GameNetwork/match.html">match</a> objects.</p>
</section>
<section id="load-max-turn-based-participants" class="level3">
<h3>Load Max Turn-Based Participants</h3>
<p>For the command parameter of <code>"loadTurnBasedMatchMaxNumberOfParticipants"</code>, this function retrieves the maximum number of players that may be invited to a <nobr>turn-based</nobr> match. The value is returned through the callback listener via <code>event.data</code>.</p>
<pre class="brush: lua;">gameNetwork.request( "loadTurnBasedMatchMaxNumberOfParticipants", { listener=requestCallback } )</pre>
</section>
</section>
<section id="example" class="level2">
<h2>Example</h2>
<pre class="brush: lua;">-- Request callback function
local function requestCallback( event )

    if ( event.type == "setHighScore" ) then
        -- High score has been set
    elseif ( event.type == "resetAchievements" ) then
        -- Achievements have been reset
    end
end

-- Update the player's high score
gameNetwork.request( "setHighScore",
    {
        localPlayerScore = { category="com.appledts.EasyTapList", value=25 },
        listener = requestCallback
    }
)

-- Reset the player's achievement list
gameNetwork.request( "resetAchievements", { listener=requestCallback } )</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
