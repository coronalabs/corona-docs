<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Plugins | gameNetwork-google | request</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../guide/index.html">Guides</a></li>
<li><a href="../../api/index.html">API Reference</a></li>
<li><a href="../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../plugin/index.html">Plugins</a></li>
<li><a href="../../native/index.html">Solar2D Native</a></li>
<li><a href="../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#gamenetwork.request">gameNetwork.request()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#command-required">command <sub><sup>(required)</sup></sub></a></li>
<li><a href="#params-optional">params <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#command-reference">Command Reference</a></li>
<li><a href="#parameter-reference">Parameter Reference</a><ul>
<li><a href="#listener-function">Listener Function</a></li>
<li><a href="#set-high-score">Set High Score</a></li>
<li><a href="#load-scores">Load Scores</a></li>
<li><a href="#load-local-player">Load Local Player</a></li>
<li><a href="#load-players">Load Players</a></li>
<li><a href="#load-friends">Load Friends</a></li>
<li><a href="#load-achievements-load-achievement-descriptions">Load Achievements / Load Achievement Descriptions</a></li>
<li><a href="#unlock-achievement">Unlock Achievement</a></li>
<li><a href="#load-leaderboard-categories">Load Leaderboard Categories</a></li>
<li><a href="#is-connected">Is Connected</a></li>
<li><a href="#login">Login</a></li>
<li><a href="#logout">Logout</a></li>
<li><a href="#create-room">Create Room</a></li>
<li><a href="#join-room">Join Room</a></li>
<li><a href="#leave-room">Leave Room</a></li>
<li><a href="#set-room-listener">Set Room Listener</a></li>
<li><a href="#send-message">Send Message</a></li>
<li><a href="#set-message-received-listener">Set Message Received Listener</a></li>
<li><a href="#set-invitation-received-listener">Set Invitation Received Listener</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../plugin/index.html">Plugins</a>  ▸  <a href="../../plugin/gameNetwork-google/index.html">gameNetwork-google</a>  ▸  <a href="../../plugin/gameNetwork-google/request.html">request</a>
</div>
<section id="gamenetwork.request" class="level1">
<h1>gameNetwork.request()</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../api/type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Library</strong></td>
<td style="text-align: left;"><a href="../../api/library/gameNetwork/index.html">gameNetwork.*</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Return value</strong></td>
<td style="text-align: left;">none</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">gameNetwork, Google Play Game Services</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>See also</strong></td>
<td style="text-align: left;"><a href="../../plugin/gameNetwork-google/init.html">gameNetwork.init()</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="../../plugin/gameNetwork-google/show.html">gameNetwork.show()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>Send or request information to/from <a href="http://developer.android.com/google/play-services/games.html">Google Play Game Services</a>.</p>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">gameNetwork.request( command [, params] )</pre>
<section id="command-required" class="level5">
<h5>command <sub><sup>(required)</sup></sub></h5>
<p><em><a href="../../api/type/String.html">String</a>.</em> String value as supported by Google Play Game Services — see <a href="#commands">Command Reference</a> below.</p>
</section>
<section id="params-optional" class="level5">
<h5>params <sub><sup>(optional)</sup></sub></h5>
<p><em><a href="../../api/type/Table.html">Table</a>.</em> Table of parameters allowed by Google Play Game Services — see <a href="#params">Parameter Reference</a> below.</p>
<p><a id="commands"></p>
</section>
</section>
<section id="command-reference" class="level2">
<h2>Command Reference</h2>
<p>For the <code>command</code> parameter, Google Play Game Services supports the following values:</p>
<ul>
<li><code>"setHighScore"</code></li>
<li><code>"loadScores"</code></li>
<li><code>"loadLocalPlayer"</code></li>
<li><code>"loadPlayers"</code></li>
<li><code>"loadFriends"</code></li>
<li><code>"loadAchievements"</code></li>
<li><code>"unlockAchievement"</code></li>
<li><code>"loadAchievementDescriptions"</code></li>
<li><code>"loadLeaderboardCategories"</code></li>
<li><code>"isConnected"</code></li>
<li><code>"login"</code></li>
<li><code>"logout"</code></li>
<li><code>"createRoom"</code></li>
<li><code>"joinRoom"</code></li>
<li><code>"leaveRoom"</code></li>
<li><code>"setRoomListener"</code></li>
<li><code>"sendMessage"</code></li>
<li><code>"setMessageReceivedListener"</code></li>
<li><code>"setInvitationReceivedListener"</code></li>
</ul>
<p><a id="params"></p>
</section>
<section id="parameter-reference" class="level2">
<h2>Parameter Reference</h2>
<p>Depending on the specified <code>command</code> parameter, the contents of the <code>params</code> table will vary.</p>
<section id="listener-function" class="level3">
<h3>Listener Function</h3>
<p>For most calls to <code>gameNetwork.request()</code>, the <code>params</code> table supports a <code>listener</code> key with its value as a callback listener function to monitor the call result. In the callback listener, <code>event.type</code> indicates the request that was executed, along with other data specific to each request type as outlined below.</p>
<pre class="brush: lua;">local function requestCallback( event )

    if ( event.type == "setHighScore" ) then
        --high score has been set
    end
end

gameNetwork.request( "setHighScore",
    {
        localPlayerScore = { category="Cy_sd893DEewf3", value=25 },
        listener = requestCallback
    }
)</pre>
</section>
<section id="set-high-score" class="level3">
<h3>Set High Score</h3>
<p>For the <code>command</code> parameter of <code>"setHighScore"</code>, this function sets a high score for the currently <nobr>logged-in</nobr> user for the specified leaderboard (<code>category</code>). If the high score is not higher than the one currently on the server, the server will keep the highest value.</p>
<pre class="brush: lua;">gameNetwork.request( "setHighScore",
    {
        localPlayerScore = { category="Cy_sd893DEewf3", value=25 },
        listener = requestCallback
    }
)</pre>
<p>In the <code>params</code> table, <code>localPlayerScore</code> is a required table within which the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>category</code> — String that matches the ID of the leaderboard you want to register the score with as entered in Google’s developer console.</p></li>
<li><p><code>value</code> — Number representing the score.</p></li>
</ul>
<p>When handling the results of a <code>"setHighScore"</code> call, <code>event.data</code> in the callback listener is an array of items (tables). Each contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>category</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>value</code> (<a href="../../api/type/Number.html">number</a>)</li>
<li><code>formattedValue</code> (<a href="../../api/type/String.html">string</a>) — The formatted value of the submitted score.</li>
</ul>
</section>
<section id="load-scores" class="level3">
<h3>Load Scores</h3>
<p>For the <code>command</code> parameter of <code>"loadScores"</code>, this function retrieves scores based on various filters.</p>
<pre class="brush: lua;">gameNetwork.request( "loadScores",
    {
        leaderboard =
        {
            category = "Cy_SLDWING4334h",
            playerScope = "Global",   -- Global, FriendsOnly
            timeScope = "AllTime",    -- AllTime, Week, Today
            range = { 1,5 },
            playerCentered = true
        },
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>leaderboard</code> is a required table within which the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><p><code>category</code> — Required string that matches the name of the board from which you want to fetch scores.</p></li>
<li><p><code>playerScope</code> — Optional string of either <code>"Global"</code> or <code>"FriendsOnly"</code>. The latter setting will restrict the fetched scores to people in the player’s circles.</p></li>
<li><p><code>timeScope</code> — Optional string of either <code>"AllTime"</code>, <code>"Week"</code>, or <code>"Today"</code> which limits the fetched scores to a specified time range.</p></li>
<li><p><code>range</code> — Optional array of two integer values. For Google Play Game Services, the first value is ignored, while the second value represents the number of players to retrieve (no more than 25). The default range is <code>{ 1,25 }</code>.</p></li>
<li><p><code>playerCentered</code> — Optional boolean value. If <code>true</code>, the call will return the scores that are centered around the currently <nobr>logged-in</nobr> user. If <code>false</code>, the call will simply return the top scores.</p></li>
</ul>
<p>When handling the results of a <code>"loadScores"</code> call, <code>event.data</code> in the callback listener is an array of items (tables). Each contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>category</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>value</code> (<a href="../../api/type/Number.html">number</a>)</li>
<li><code>date</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>formattedValue</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>rank</code> (<a href="../../api/type/Number.html">integer</a>)</li>
<li><code>unixTime</code> (<a href="../../api/type/Number.html">integer</a>)</li>
</ul>
<pre class="brush: lua;">event.data[1].playerID  --ID of the first player in the request
event.data[3].rank      --rank of the third player in the request</pre>
</section>
<section id="load-local-player" class="level3">
<h3>Load Local Player</h3>
<p>For the <code>command</code> parameter of <code>"loadLocalPlayer"</code>, this function requests data for the currently <nobr>logged-in</nobr> player.</p>
<pre class="brush: lua;">gameNetwork.request( "loadLocalPlayer", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadLocalPlayer"</code> call, <code>event.data</code> in the callback listener contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>alias</code> (<a href="../../api/type/String.html">string</a>)</li>
</ul>
<div style="width: 400px;">
<pre class="brush: lua;">event.data.playerID
event.data.alias</pre>
</div>
</section>
<section id="load-players" class="level3">
<h3>Load Players</h3>
<p>For the <code>command</code> parameter of <code>"loadPlayers"</code>, this function requests data for a list of players based on their player IDs.</p>
<pre class="brush: lua;">gameNetwork.request( "loadPlayers",
    {
        playerIDs =
        {
            "45987354897345345",
            "32238975789573445",
            "17891241248435990"
        },
        listener = requestCallback
    }
)</pre>
<p>When handling the results of a <code>"loadPlayers"</code> call, <code>event.data</code> in the callback listener is an array of items (tables). Each contains the following properties:</p>
<ul>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>alias</code> (<a href="../../api/type/String.html">string</a>)</li>
</ul>
<pre class="brush: lua;">event.data[1].playerID  --ID of the first player in the request
event.data[3].alias     --alias of the third player in the request</pre>
</section>
<section id="load-friends" class="level3">
<h3>Load Friends</h3>
<p>For the <code>command</code> parameter of <code>"loadFriends"</code>, this function requests the friends of the currently <nobr>logged-in</nobr> player.</p>
<pre class="brush: lua;">gameNetwork.request( "loadFriends", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadFriends"</code> call, <code>event.data</code> in the callback listener is an array of items (tables) corresponding to each friend.</p>
<div style="width: 400px;">
<pre class="brush: lua;">event.data[2].playerID
event.data[2].alias</pre>
</div>
</section>
<section id="load-achievements-load-achievement-descriptions" class="level3">
<h3>Load Achievements / Load Achievement Descriptions</h3>
<p>For the <code>command</code> parameter of <code>"loadAchievements"</code> or <code>"loadAchievementDescriptions"</code>, this function loads a list of the player’s completed achievements for the app.</p>
<pre class="brush: lua;">gameNetwork.request( "loadAchievements", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadAchievements"</code> or <code>"loadAchievementDescriptions"</code> call, <code>event.data</code> in the callback listener is an array of items (tables) representing each achievement. Each table contains the following properties:</p>
<ul>
<li><code>identifier</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>title</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>description</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>isCompleted</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>isHidden</code> (<a href="../../api/type/Boolean.html">boolean</a>)</li>
<li><code>lastReportedDate</code> (<a href="../../api/type/Number.html">number</a>)</li>
</ul>
<pre class="brush: lua;">event.data[4].identifier   --identifier for the fourth achievement
event.data[2].description  --description of the second achievement </pre>
</section>
<section id="unlock-achievement" class="level3">
<h3>Unlock Achievement</h3>
<p>For the <code>command</code> parameter of <code>"unlockAchievement"</code>, this function unlocks/sets the specified achievement (<code>identifier</code>).</p>
<pre class="brush: lua;">gameNetwork.request( "unlockAchievement",
    {
        achievement =
        {
            identifier = "CY_w895w9w55w454"
        },
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>achievement</code> is a required table wherein <code>identifier</code> (<a href="../../api/type/String.html">string</a>) must match the name of the achievement you want to unlock/report, as entered in Google’s developer console.</p>
<p>When handling the results of a <code>"unlockAchievement"</code> call, <code>event.data</code> in the callback listener contains an <code>achievementId</code> identifier (<a href="../../api/type/String.html">string</a>).</p>
</section>
<section id="load-leaderboard-categories" class="level3">
<h3>Load Leaderboard Categories</h3>
<p>For the <code>command</code> parameter of <code>"loadLeaderboardCategories"</code>, this function requests a list of leaderboard categories for the app.</p>
<pre class="brush: lua;">gameNetwork.request( "loadLeaderboardCategories", { listener=requestCallback } )</pre>
<p>When handling the results of a <code>"loadLeaderboardCategories"</code> call, <code>event.data</code> is an array of items (tables). Each contains the following leaderboard properties:</p>
<ul>
<li><code>category</code> (<a href="../../api/type/String.html">string</a>)</li>
<li><code>title</code> (<a href="../../api/type/String.html">string</a>)</li>
</ul>
<pre class="brush: lua;">event.data[1].category  --> "CY_a49t8h4t43t43t"
event.data[1].title     --> "Easy"</pre>
</section>
<section id="is-connected" class="level3">
<h3>Is Connected</h3>
<p>For the <code>command</code> parameter of <code>"isConnected"</code>, this call checks if the user is currently logged into Google Play Game Services, returning <code>true</code> if the user is currently logged in and <code>false</code> if not. This function returns immediately with the result so there is no need to supply it with a callback listener.</p>
</section>
<section id="login" class="level3">
<h3>Login</h3>
<p>For the <code>command</code> parameter of <code>"login"</code>, this function attempts to log the user into Google Play Game Services.</p>
<pre class="brush: lua;">gameNetwork.request( "login",
    {
        userInitiated = true,
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, <code>userInitated</code> is a boolean with a default of <code>true</code>. When <code>true</code>, this call will try to resolve any problems with the login process by, for example, show the login popup. If it’s set to <code>false</code>, this call will simply attempt to connect without trying to resolve any errors. Setting <code>userInitated</code> to <code>false</code> is useful for automatically logging the user in while avoiding a repetitive prompt for each session.</p>
<p>When handling the results of a <code>"login"</code> call, <code>event.data</code> in the callback listener contains an <code>isError</code> property (<a href="../../api/type/Boolean.html">boolean</a>) which indicates if there was an error with the login process.</p>
</section>
<section id="logout" class="level3">
<h3>Logout</h3>
<p>For the <code>command</code> parameter of <code>"logout"</code>, this call logs the user out of Google Play Game Services. This function does not accept a callback listener</p>
<pre class="brush: lua;">gameNetwork.request( "logout" )</pre>
</section>
<section id="create-room" class="level3">
<h3>Create Room</h3>
<p>For the <code>command</code> parameter of <code>"createRoom"</code>, this function creates a <nobr>real-time</nobr> multiplayer match with the specified players. Specifying a listener function when calling this will override any room listener that was set via <code>gameNetwork.setRoomListener()</code>.</p>
<pre class="brush: lua;">local function requestCallback( event )
    print( event.data.roomID )  --ID of the room that was created
end

gameNetwork.request( "createRoom",
    {
        playerIDs =  --array of players to invite
        {
            "45987354897345345",
            "32238975789573445",
            "17891241248435990"
        },
        maxAutoMatchPlayers = 3,     --optional, defaults to 0
        minAutoMatchPlayers = 1,     --optional, defaults to 0
        listener = requestCallback   --including this will override any listener set in 'gameNetwork.setRoomListener()'
    }
)</pre>
</section>
<section id="join-room" class="level3">
<h3>Join Room</h3>
<p>For the <code>command</code> parameter of <code>"joinRoom"</code>, this function joins a room that has already been created. Specifying a listener function when calling this will override any room listener that was set via <code>gameNetwork.setRoomListener()</code>.</p>
<p>Inside the <code>params</code> table, <code>roomID</code> is the ID which was created by <code>gameNetwork.request( "createRoom", ... )</code>.</p>
<pre class="brush: lua;">local function requestCallback( event )
    print( event.data.roomID )  --ID of the room that was joined
end

gameNetwork.request( "joinRoom",
    {
        roomID = "o345t9348th",
        listener = requestCallback  --including this will override any listener set in 'gameNetwork.setRoomListener()'
    }
)</pre>
</section>
<section id="leave-room" class="level3">
<h3>Leave Room</h3>
<p>For the <code>command</code> parameter of <code>"leaveRoom"</code>, this function leaves the room that the player is currently in and closes any connections. Specifying a listener function when calling this will override any room listener that was set via <code>gameNetwork.setRoomListener()</code>.</p>
<pre class="brush: lua;">local function requestCallback( event )
    print( event.data.roomID )  --ID of the room that was left
end

gameNetwork.request( "leaveRoom",
    {
        roomID = "o345t9348th",
        listener = requestCallback  --including this will override any listener set in 'gameNetwork.setRoomListener()'
    }
)</pre>
</section>
<section id="set-room-listener" class="level3">
<h3>Set Room Listener</h3>
<p>For the <code>command</code> parameter of <code>"setRoomListener"</code>, this function sets the listener function that will be called when a room event occurs. Calling this will override any listener set from within a <code>"createRoom"</code>, <code>"joinRoom"</code>, or <code>"leaveRoom"</code> request. Note that this callback function may be triggered multiple times, for example if one player declines an invitation and then another person declines after that.</p>
<pre class="brush: lua;">local function requestCallback( event )
    print( event.data.roomID )
    --print( event.data[1] )  --this will be populated if there are players involved in this event
end

gameNetwork.request( "setRoomListener",
    {
        listener = requestCallback
    }
)</pre>
<p>When handling the results of a <code>"setRoomListener"</code> call, the <code>event</code> table is structured as follows:</p>
<ul>
<li><code>event.data</code> (<a href="../../api/type/Table.html">table</a>) — Array which contains the list of players affected, for example <code>event.data[1].alias</code> or <code>event.data[2].playerID</code>.</li>
<li><code>event.data.roomID</code> (<a href="../../api/type/String.html">string</a>) — Room ID on which this event occurred.</li>
<li><code>event.data.isError</code> (<a href="../../api/type/Boolean.html">boolean</a>) — Boolean indicating if there was an error.</li>
<li><code>event.type</code> — (see below)</li>
</ul>
<p>In addition to the data above, <code>event.type</code> includes:</p>
<ul>
<li><code>createRoom</code> — The logged in player created a room.</li>
<li><code>joinRoom</code> — The logged in player joined a room.</li>
<li><code>leaveRoom</code> — The logged in player left the room.</li>
<li><code>connectedRoom</code> — All invited players have accepted and the auto matchmaking has completed.</li>
<li><code>peerAcceptedInvitation</code> — The list of players who accepted an invitation to join the room.</li>
<li><code>peerDeclinedInvitation</code> — The list of players who declined an invitation to join the room.</li>
<li><code>peerLeftRoom</code> — The list of players who left the room.</li>
<li><code>peerDisconnectedFromRoom</code> — The list of players who disconnected from the room.</li>
</ul>
</section>
<section id="send-message" class="level3">
<h3>Send Message</h3>
<p>For the <code>command</code> parameter of <code>"sendMessage"</code>, this function sends a message to other player(s).</p>
<pre class="brush: lua;">gameNetwork.request( "sendMessage",
    {
        roomID = "o345t9348th",
        playerIDs =
        {
            "45987354897345345",
            "32238975789573445",
            "17891241248435990"
        },
        message = "Get ready!",
        reliable = true,
        listener = requestCallback
    }
)</pre>
<p>Inside the <code>params</code> table, the following <nobr>key-values</nobr> apply:</p>
<ul>
<li><code>roomID</code> (<a href="../../api/type/String.html">string</a>) — ID of the room that the other player(s) are in.</li>
<li><code>playerIDs</code> (<a href="../../api/type/Table.html">table</a>) — Array of players to send the message to.</li>
<li><code>message</code> (<a href="../../api/type/String.html">string</a>) — Message to send.</li>
<li><code>reliable</code> (<a href="../../api/type/Boolean.html">boolean</a>) — Optional parameter which, if <code>true</code>, sends a reliable message. Messages can be dropped if they’re not reliable but they will reach other players faster. Default is <code>true</code>.</li>
</ul>
</section>
<section id="set-message-received-listener" class="level3">
<h3>Set Message Received Listener</h3>
<p>For the <code>command</code> parameter of <code>"setMessageReceivedListener"</code>, this function sets the listener function that will be called when a message has been received. This function will only be called for messages transmitted to the room that the current player is connected to.</p>
<pre class="brush: lua;">local function requestCallback( event )
    print( event.data.participantID )
    print( event.data.message )
end

gameNetwork.request( "setMessageReceivedListener",
    {
        listener = requestCallback
    }
)</pre>
<p>When handling the results of a <code>"setMessageReceivedListener"</code> call, <code>event.data</code> in the callback listener contains the following properties:</p>
<ul>
<li><code>participantID</code> (<a href="../../api/type/String.html">string</a>) — ID of the participant who sent the message.</li>
<li><code>message</code> (<a href="../../api/type/String.html">string</a>) — The message that was sent from the participant.</li>
</ul>
</section>
<section id="set-invitation-received-listener" class="level3">
<h3>Set Invitation Received Listener</h3>
<p>For the <code>command</code> parameter of <code>"setInvitationReceivedListener"</code>, this function sets the listener function that will be called when an invitation has been received.</p>
<pre class="brush: lua;">local function requestCallback( event )
    print( event.data.roomID )
    print( event.data.alias )
    print( event.data.playerID )
end

gameNetwork.request( "setInvitationReceivedListener",
    {
        listener = requestCallback
    }
)</pre>
<p>When handling the results of a <code>"setInvitationReceivedListener"</code> call, <code>event.data</code> in the callback listener contains the following properties:</p>
<ul>
<li><code>roomID</code> (<a href="../../api/type/String.html">string</a>) — Room ID associated with the invitation.</li>
<li><code>alias</code> (<a href="../../api/type/String.html">string</a>) — Alias of the player who invited you.</li>
<li><code>playerID</code> (<a href="../../api/type/String.html">string</a>) — ID of the player who invited you.</li>
</ul>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
