<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Plugins | vk-direct</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../guide/index.html">Guides</a></li>
<li><a href="../../api/index.html">API Reference</a></li>
<li><a href="../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../plugin/index.html">Plugins</a></li>
<li><a href="../../native/index.html">Solar2D Native</a></li>
<li><a href="../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#plugin.vk.direct.">plugin.vk.direct.*</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#functions">Functions</a><ul>
<li><a href="#vk.initfunction"><code>vk.init(function)</code></a></li>
<li><a href="#vk.apimethodname-params"><code>vk.api(methodName, params)</code></a></li>
<li><a href="#vk.showinvitebox"><code>vk.showInviteBox()</code></a></li>
<li><a href="#vk.showrequestboxuser_id-message-request_key"><code>vk.showRequestBox(user_id, message, request_key)</code></a></li>
<li><a href="#vk.showshareboxmessage-attachments-target"><code>vk.showShareBox(message, attachments, target)</code></a></li>
<li><a href="#vk.showsettingsboxsettings"><code>vk.showSettingsBox(settings)</code></a></li>
<li><a href="#vk.showorderboxtype-item"><code>vk.showOrderBox(type, item)</code></a></li>
<li><a href="#vk.showleaderboardboxuser_result"><code>vk.showLeaderboardBox(user_result)</code></a></li>
</ul></li>
<li><a href="#event">Event</a><ul>
<li><a href="#event.name"><code>event.name</code></a></li>
<li><a href="#event.method"><code>event.method</code></a></li>
<li><a href="#event.status"><code>event.status</code></a></li>
<li><a href="#event.data"><code>event.data</code></a></li>
</ul></li>
<li><a href="#project-settings">Project Settings</a></li>
<li><a href="#sample">Sample</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../plugin/index.html">Plugins</a>  ▸  <a href="../../plugin/vk-direct/index.html">vk-direct</a>
</div>
<section id="plugin.vk.direct." class="level1">
<h1>plugin.vk.direct.*</h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Type</strong></td>
<td style="text-align: left;"><a href="../../api/type/Library.html">Library</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Revision</strong></td>
<td style="text-align: left;"><a href="https://solar2d.com/download/">Release 2024.3703</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Keywords</strong></td>
<td style="text-align: left;">VK, Vkontakte, VK Direct, VK Direct Games</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Platforms</strong></td>
<td style="text-align: left;">HTML5</td>
</tr>
</tbody>
</table>
</blockquote>
<section id="overview" class="level2">
<h2>Overview</h2>
<p>The <a href="https://marketplace.coronalabs.com/plugin/com.coronalabs/plugin.vk.direct">VK Direct Games</a> plugin, simple wrapper for <a href="https://vk.com/dev/direct_games">VK Mobile</a>. For more information please, refer to <a href="https://vk.com/dev/Mobile_SDK?f=2.%20%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B%20Mobile%20Client%20API">Mobile Client API documentation</a></p>
<div class="guide-notebox-imp">
<div class="notebox-title-imp">
Important
</div>
<p>Note, that APIs would actually work only when app is ran as VK Direct Game on mobile device. To learn more about how to create and deploy your applications see Direct Games <a href="https://vk.com/dev/direct_games">documentation</a>.</p>
</div>
</section>
<section id="syntax" class="level2">
<h2>Syntax</h2>
<pre class="brush: lua;">local vk = require("plugin_vk_direct")</pre>
</section>
<section id="functions" class="level2">
<h2>Functions</h2>
<section id="vk.initfunction" class="level3">
<h3><code>vk.init(function)</code></h3>
<p>Initializes the plugin and sets event listener to handle events from VK APIs. Event structure is described in the following section.</p>
<p><br /></p>
</section>
<section id="vk.apimethodname-params" class="level3">
<h3><code>vk.api(methodName, params)</code></h3>
<p>This method call would trigger <code>VK.api(methodName, params)</code> and invoke event name with <code>method</code> set to <code>methodName</code>.</p>
<p><br /></p>
<p>All following functions are wrappers around Mobile SDK methods with same name. Please, refer to <a href="https://vk.com/dev/Mobile_SDK?f=2.%20%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D1%8B%20Mobile%20Client%20API">documentation</a> for details.</p>
</section>
<section id="vk.showinvitebox" class="level3">
<h3><code>vk.showInviteBox()</code></h3>
</section>
<section id="vk.showrequestboxuser_id-message-request_key" class="level3">
<h3><code>vk.showRequestBox(user_id, message, request_key)</code></h3>
</section>
<section id="vk.showshareboxmessage-attachments-target" class="level3">
<h3><code>vk.showShareBox(message, attachments, target)</code></h3>
</section>
<section id="vk.showsettingsboxsettings" class="level3">
<h3><code>vk.showSettingsBox(settings)</code></h3>
</section>
<section id="vk.showorderboxtype-item" class="level3">
<h3><code>vk.showOrderBox(type, item)</code></h3>
</section>
<section id="vk.showleaderboardboxuser_result" class="level3">
<h3><code>vk.showLeaderboardBox(user_result)</code></h3>
<p>This methods are aliases for <code>VK.callMethod(methodName, {arguments})</code>. Result would be dispatched to event listener with <code>method</code> field set to the function name.</p>
</section>
</section>
<section id="event" class="level2">
<h2>Event</h2>
<p>Each API call would result in event sent to listener passed to <code>vk.init()</code>. All events have similar 3 fields:</p>
<section id="event.name" class="level5">
<h5><code>event.name</code></h5>
<p><em><a href="../../api/type/String.html">String</a>.</em> Always <code>"vk"</code>.</p>
</section>
<section id="event.method" class="level5">
<h5><code>event.method</code></h5>
<p><em><a href="../../api/type/String.html">String</a></em> containing name of the method callback is invoked for. For example <code>"init"</code> or <code>"showInviteBox"</code>. Note that this would have different value in <code>vk.api()</code> callback.</p>
</section>
<section id="event.status" class="level5">
<h5><code>event.status</code></h5>
<p><em><a href="../../api/type/String.html">String</a></em> containing <code>"success"</code> or <code>"failure"</code> depending on call results.</p>
</section>
<section id="event.data" class="level5">
<h5><code>event.data</code></h5>
<p><em><a href="../../api/type/Table.html">Table</a></em> containing call results if applicable.</p>
</section>
</section>
<section id="project-settings" class="level2">
<h2>Project Settings</h2>
<p>To use this plugin, add an entry into the <code>plugins</code> table of <code>build.settings</code>. When added, the build server will integrate the plugin during the build phase.</p>
<pre class="highlight: [5,6,7,8]; first-line: 1; gutter: false; brush: lua;">settings =
{
    plugins =
    {
        ["plugin.vk.direct"] =
        {
            publisherId = "com.coronalabs"
        },
    },
}</pre>
</section>
<section id="sample" class="level2">
<h2>Sample</h2>
<pre class="first-line: 1; gutter: false; brush: lua;">
local loadingText = display.newText( "Loading...", display.contentCenterX, display.contentCenterY, nil, 20)

local vk = require("plugin_vk_direct")

local function vkListener( event )
    if event.method == "init" then
        if event.status == "success" then
            composer.gotoScene( "menu" )
            loadingText:removeSelf( )
        else
            loadingText.text = "VK Initialization error"
        end
    end
end

vk.init(vkListener)

</pre>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
