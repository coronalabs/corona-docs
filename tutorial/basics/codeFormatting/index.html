<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Tutorials | Basics</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#the-value-of-well-formatted-code">The Value of <nobr>Well-Formatted</nobr> Code</a><ul>
<li><a href="#indentation">Indentation</a><ul>
<li><a href="#multi-level-indentation">Multi-Level Indentation</a></li>
</ul></li>
<li><a href="#variable-names">Variable Names</a></li>
<li><a href="#block-length-and-nested-blocks">Block Length and Nested Blocks</a></li>
<li><a href="#module-length">Module Length</a></li>
<li><a href="#white-space">White Space</a></li>
<li><a href="#using-a-proper-editor">Using a Proper Editor</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../tutorial/index.html">Tutorials</a>  ▸  <a href="../../../tutorial/basics/index.html">Basics</a>
</div>
<section id="the-value-of-well-formatted-code" class="level1">
<h1>The Value of <nobr>Well-Formatted</nobr> Code</h1>
<p>Inevitably, there will be a time in your app development where you’ll need to show your code to someone else. Perhaps it’s because you’re asking for help in the forums or you’re working on a team and your teammates need to read your code. Maybe you want to share a useful module with someone, or even sell a game template.</p>
<p>In all of these instances, having <nobr>well-formatted</nobr> code is a major aspect of how successful you’ll be as a programmer. Unfortunately, code formatting can prompt a heated argument between different programmers: do you use 3 spaces or 4 spaces per indent? Do you indent with tabs or spaces? Do you put your opening curly brace (<code>{</code>) on the end of the line or the beginning? And so forth…</p>
<p>Before we look at some key ways you can improve your code formatting, consider this block of code:</p>
<pre class="brush: lua;">local function doit()
local variableA = 0
local s = 0
local hs = 0
local sd = display.newText("0",160,10,native.systemFont,16)
local function sum(variableA,s)
local variableb=s+variableA


sd.text = variableb
            if variableb>hs then
hs = variableb

end
return variableb
    end
sum(variableA,s)

print(variableb)
end
        doit()</pre>
<p>While the code above technically works, it’s confusing to figure out what it’s actually doing. Now compare it to this version:</p>
<pre class="brush: lua;">local function showScore()

    local count = 0
    local score = 0
    local highScore = 0
    local scoreDisplay = display.newText( "0", 160, 10, native.systemFont, 16 )

    local function addToScore( count, score )

        local newScore = score + count
        scoreDisplay.text = newScore

        if ( newScore > highScore ) then
            highScore = newScore
        end

        return newScore
    end

    addToScore( count, score )
    print( newScore )
end

showScore()</pre>
<p>As you can see, proper code formatting makes this version <strong>much</strong> easier to read and understand. The <code>showScore()</code> function is clearly started and ended, variables and functions are accurately named, spaces and indentations are added for improved readability, everything is properly scoped, and even the <code>addToScore()</code> function is cleanly nested within its parent <code>showScore()</code> function.</p>
<p>In the following sections, we’ll look at common code formatting issues and how you can improve your own code.</p>
<section id="indentation" class="level2">
<h2>Indentation</h2>
<p>Many new developers don’t know what <strong>indentation</strong> means. Simply put, code is broken into <strong>blocks</strong> and blocks have a beginning and an end. For instance, when you define a function, you are creating a block of code. At some point, that block ends, using the Lua keyword <code>end</code>. As a general definition, <strong>indentation</strong> is the intentional shifting (to the right) of code within a block, effectively making it more readable. For instance:</p>
<pre class="brush: lua;">local function addNumbers( numberOne, numberTwo )

    return numberOne + numberTwo  -- This line is indented
end</pre>
<p>In Lua, blocks are defined using any of the following keywords:</p>
<ul>
<li><code>function</code></li>
<li><code>if</code></li>
<li><code>while</code></li>
<li><code>for</code></li>
<li><code>repeat</code></li>
</ul>
<p>Since all of these keywords <strong>start</strong> a code block, they require that an <code>end</code> statement completes them. To adhere to the rules of proper indentation, the keyword <nobr>(for instance <code>if</code>)</nobr> and its matching <code>end</code> should be the same distance from the left side of the editor screen.</p>
<p>For purposes of indentation, depending on your personal preference, you can indent your code using either multiple <nobr><strong>spaces</strong> — 3-4 is most common —</nobr> or <strong>tab</strong> indentations. If you prefer spaces, you should use enough spaces so that it’s obvious that the interior code is “inside” the block. In the case of tabs, most editors allow you to set a single tab to represent 3 or 4 spaces and, when you backspace/delete to remove the indent, it conveniently removes the entire tab instead of forcing you to erase multiple spaces individually.</p>
<section id="multi-level-indentation" class="level3">
<h3>Multi-Level Indentation</h3>
<p>Frequently, you will have blocks inside of other blocks, for example an <code>if</code> statement inside a function and another command inside of that <code>if</code> block. In these cases, you should indent the interior block/line one further “level” than its containing block:</p>
<pre class="brush: lua;">local function touchHandler( event )

    if ( event.phase == "ended" ) then  -- First level of indentation
        composer.gotoScene( "game" )    -- Second level of indentation
    end

    return true
end</pre>
<!---

A few final notes on indentation: it's very important that you be consistent with your indentations! Don't <nobr>over-indent</nobr> a block and don't <nobr>under-indent</nobr> it either. While proper indentation takes a little more focus and effort while you're coding, if you fail to properly indent blocks, anybody else reading your code will struggle to understand it, and even you may become confused if you return later to inspect <nobr>non-indented</nobr> code blocks.

-->
</section>
</section>
<section id="variable-names" class="level2">
<h2>Variable Names</h2>
<p>Back in the early days of programming, for example with languages like BASIC, programmers only had access to variable names like <code>A</code>, <code>B</code>, <code>I</code>, <code>X</code>, <code>Y</code>, etc. These letters were used in a fairly standard way — <code>A</code> for arrays, <code>X</code>/<code>Y</code> for coordinates, or <code>I</code> for “index” <nobr>(as in a <code>for</code> loop index)</nobr>.</p>
<p>Modern programming languages allow us to use far more verbose variable names, and Lua has a few general guidelines which work well. For instance, <code>i</code> might be a good index variable in a very narrow scope, but it’s a horrible name for something “broader” to the overall project. Generally, the broader the scope, the more descriptive the variable name should be. Shorter names like <code>move</code> or <code>player</code> are fine for <nobr>narrow-scoped</nobr> variables, but the broader the scope, the longer the name should be, and frequently it should contain multiple words like <code>playerUniformColor</code>.</p>
</section>
<section id="block-length-and-nested-blocks" class="level2">
<h2>Block Length and Nested Blocks</h2>
<p>In Lua, it’s easy to write code that can contain a lot of nested blocks. However, the longer a block gets, the harder it becomes to read and maintain. In any modern programming language, the purpose of functions is to write manageable blocks of code that will be executed over and over, and the key term here is <strong>manageable</strong>. When you have a series of <code>function()</code>, <code>if</code>, <code>for</code> and other blocks nested inside each other along with <code>end</code> statements associated with each, even proper indentation may not be enough to clarify the flow of logic. If an overall block of code becomes this large, it may be best to pull some of the logic out and move it to another function.</p>
</section>
<section id="module-length" class="level2">
<h2>Module Length</h2>
<p>Just like avoiding long functions and other blocks, consider avoiding long Lua modules. When a single module gets too long, it becomes hard to manage. If you are constantly scrolling up and down in your text editor to find things, the module may be “unmanageable” and it might be wise to move parts of that module’s functionality to a new module. Excessively long modules may also run up against Lua’s limit of 200 local variables, so keeping modules shorter and more concise is good practice.</p>
</section>
<section id="white-space" class="level2">
<h2>White Space</h2>
<p>While some white space (including indentations) improves readability, excessive white space can be both problematic and pointless. On the other hand, <strong>avoiding</strong> white space can make your code appear cluttered and jumbled. Generally, you should use one line break between blocks, and one space between keywords like <code>function</code> and its parameters. Consider this function:</p>
<pre class="brush: lua;">local function          addToScore(count,score)


    local newScore=score+count
    scoreDisplay.text=newScore




    if
                newScore>highScore then
                highScore=newScore
    end
            return newScore
end</pre>
<p>Now compare it with the following function which is identical in behavior but, by using a sensible amount of white space, this version is much easier to read:</p>
<pre class="brush: lua;">local function addToScore( count, score )

    local newScore = score + count
    scoreDisplay.text = newScore

    if ( newScore > highScore ) then
        highScore = newScore
    end

    return newScore
end</pre>
</section>
<section id="using-a-proper-editor" class="level2">
<h2>Using a Proper Editor</h2>
<p>Using a full-featured code/text editor application will greatly improve your code. These will usually manage your indentations automatically as you move down further into a block of code. In addition, they will often provide full Lua syntax coloring where keywords, values, and variables are colored differently to assist in readability. For example, an editor might label strings in green, and if you forget to include a string’s ending quote (<code>"</code>), a much larger block of code may turn green, indicating you forgot that ending quote.</p>
<p>Another important feature of a proper editor is the ability to show line numbers. When Solar2D encounters an error in code, it reports the line number where the problem occurred (see the <a href="../../../guide/basics/debugging/index.html">Debugging Guide</a> for more information). Thus, if your editor shows line numbers, it’s much easier to track down the issue.</p>
<p>See our <a href="../../../guide/programming/01/index.html">Getting Started</a> guide for a list of recommended text editors.</p>
</section>
<section id="conclusion" class="level2">
<h2>Conclusion</h2>
<p>If you follow the practices in this tutorial, not only will you find your own code easier to read, but when you need help from other developers, more will be willing to assist you. Collectively, the techniques and tips we’ve discussed will make you a more efficient and productive developer!</p>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
