<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Tutorials | Data/Files/Strings</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#outputting-table-contents">Outputting Table Contents</a><ul>
<li><a href="#what-about-sub-tables">What About Sub-Tables?</a></li>
<li><a href="#convenience-function">Convenience Function</a></li>
<li><a href="#alternative-reference">Alternative Reference</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../tutorial/index.html">Tutorials</a>  ▸  <a href="../../../tutorial/data/index.html">Data/Files/Strings</a>
</div>
<section id="outputting-table-contents" class="level1">
<h1>Outputting Table Contents</h1>
<p>In Lua, you will commonly need to store items or references in a table, and sometimes it’s necessary to know which items/members exist inside that table. This is simple enough to do with a <nobr>key-value</nobr> loop using the Lua <code>pairs()</code> function:</p>
<pre class="highlight: [8,9,10]; first-line: 1; gutter: false; brush: lua;">local myTable = {
    firstName = "Fred",
    lastName = "Bob",
    phoneNumber = "(555) 555-1212",
    age = 30
}

for k,v in pairs(myTable) do
    print( k,v )
end</pre>
<p>This will output something like the following to the console:</p>
<pre class="brush: lua;">firstName   Fred
age 30
lastName    Bob
phoneNumber (555) 555-1212</pre>
<p>Note that the order may differ since the <code>pairs()</code> function does not necessarily iterate through the table in the same order in which the <nobr>key-values</nobr> were declared. However, if you only need to check for a key’s existence and its value, this loop method is perfectly acceptable.</p>
<section id="what-about-sub-tables" class="level2">
<h2>What About Sub-Tables?</h2>
<p>What if your table has <nobr><strong>sub-tables</strong></nobr> as in the following example?</p>
<pre class="highlight: [6,7]; first-line: 1; gutter: false; brush: lua;">local myTable = {
    firstName = "Fred",
    lastName = "Bob",
    phoneNumber = "(555) 555-1212",
    age = 30,
    favoriteSports = { "Baseball", "Hockey", "Soccer" },
    favoriteTeams  = { "Cowboys", "Panthers", "Lightning" }
}</pre>
<p>In this case, the <code>pairs()</code> loop method will output something like this:</p>
<pre class="brush: lua;">firstName   Fred
favoriteSports  table: 0x7fb1bbd00750
phoneNumber (555) 555-1212
favoriteTeams   table: 0x7fb1bbd00340
lastName    Bob
age 30</pre>
<p>As you can see, the loop will display the internal references to those tables, for example <code>0x7fb1bbd00750</code>, but it won’t display the actual <strong>content</strong> <nobr>(keys or values)</nobr> of the <nobr>sub-tables</nobr>.</p>
</section>
<section id="convenience-function" class="level2">
<h2>Convenience Function</h2>
<p>Fortunately, we can use a powerful function that will intelligently step through tables <strong>and</strong> <nobr>sub-tables</nobr>, revealing the contents for your reference. Here is the function in its entirety:</p>
<pre class="brush: lua;">local function printTable( t )

    local printTable_cache = {}

    local function sub_printTable( t, indent )

        if ( printTable_cache[tostring(t)] ) then
            print( indent .. "*" .. tostring(t) )
        else
            printTable_cache[tostring(t)] = true
            if ( type( t ) == "table" ) then
                for pos,val in pairs( t ) do
                    if ( type(val) == "table" ) then
                        print( indent .. "[" .. pos .. "] => " .. tostring( t ).. " {" )
                        sub_printTable( val, indent .. string.rep( " ", string.len(pos)+8 ) )
                        print( indent .. string.rep( " ", string.len(pos)+6 ) .. "}" )
                    elseif ( type(val) == "string" ) then
                        print( indent .. "[" .. pos .. '] => "' .. val .. '"' )
                    else
                        print( indent .. "[" .. pos .. "] => " .. tostring(val) )
                    end
                end
            else
                print( indent..tostring(t) )
            end
        end
    end

    if ( type(t) == "table" ) then
        print( tostring(t) .. " {" )
        sub_printTable( t, "  " )
        print( "}" )
    else
        sub_printTable( t, "  " )
    end
end</pre>
<p>This function will navigate through the <nobr>tables/sub-tables</nobr> and output the contents. To use it, simply call the function and pass in the table reference you want to output, for example:</p>
<pre class="brush: lua;">printTable( myTable )</pre>
<p>In this case, the output becomes:</p>
<pre class="brush: lua;">table: 0x600001260c00 {
  [firstName] => "Fred"
  [favoriteSports] => table: 0x600001260c00 {
                        [1] => "Baseball"
                        [2] => "Hockey"
                        [3] => "Soccer"
                      }
  [phoneNumber] => "(555) 555-1212"
  [favoriteTeams] => table: 0x600001260c00 {
                       [1] => "Cowboys"
                       [2] => "Panthers"
                       [3] => "Lightning"
                     }
  [lastName] => "Bob"
  [age] => 30
}</pre>
<p>As you can see, this function makes the table contents significantly easier to read! Also, when applicable, it shows the <strong>index value</strong> of <nobr>non-key</nobr> items within a table, for instance <nobr><code>[2] =&gt; "Hockey"</code></nobr>, which can be extremely useful when accessing table contents in associated code within your app.</p>
</section>
<section id="alternative-reference" class="level2">
<h2>Alternative Reference</h2>
<p>Since this function is for outputting table contents, it may not be intuitive to use it directly as in:</p>
<pre class="brush: lua;">printTable( myTable )</pre>
<p>Thus, an alternative is to add the <code>printTable()</code> function to the Lua <code>table</code> library object as so:</p>
<pre class="brush: lua;">table.print = printTable</pre>
<p>Then, calling it via the reference becomes more sensible:</p>
<pre class="brush: lua;">table.print( myTable )</pre>
</section>
<section id="conclusion" class="level2">
<h2>Conclusion</h2>
<p>Using tables to store items and references is focal to any serious development in Lua and Corona, and knowing the content of those tables is often essential to debugging. Hopefully this convenience function will help you throughout the course of your development!</p>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
