<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Cousine&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" type="image/ico" href="/images/favicon.ico" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Solar2D Documentation — Tutorials | Communication/Social</title>
  <meta name="description" content="Solar2D lets you build games/apps for all major platforms including iOS, Android, Kindle, Apple TV, Android TV, macOS, and Windows. Get the free toolset!" />
  <link rel="stylesheet" href="../../../css/style.css" />
  <link rel="stylesheet" href="../../../css/shCoreDefault.css" />
<script src="https://corona-cdn.coronalabs.com/js/docs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9574984-14', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='https://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../../guide/programming/index.html">Getting Started</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="../../../api/index.html">API Reference</a></li>
<li><a href="../../../tutorial/index.html">Tutorials</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../native/index.html">Solar2D Native</a></li>
<li><a href="../../../coronacards/index.html">CoronaCards</a></li>
</ul>

		<!--
		<div id="resources-link"><a href="https://coronalabs.com/resources/">Corona Resources</a></div>
		-->
	</div>
</div>

<div class="SearchBar">
  <form action="https://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" placeholder="Search" name="q" id="q" autocomplete="off" size="40" />
  <input type="submit" name="sa" value="Search" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#connecting-to-rest-api-services">Connecting to REST API Services</a><ul>
<li><a href="#rest-overview">REST Overview</a></li>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#making-api-calls">Making API Calls</a><ul>
<li><a href="#basic-request">Basic Request</a></li>
<li><a href="#headers">Headers</a></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="https://docs.coronalabs.com">Documentation</a>  ▸  <a href="../../../tutorial/index.html">Tutorials</a>  ▸  <a href="../../../tutorial/social/index.html">Communication/Social</a>
</div>
<section id="connecting-to-rest-api-services" class="level1">
<h1>Connecting to REST API Services</h1>
<p>Using Solar2D, you can connect to various online services to get data into your app. To accomplish this, a popular option is <strong>REST</strong> (or RESTful) APIs which are based on standard HTTP protocols and are generally easy to authenticate.</p>
<section id="rest-overview" class="level2">
<h2>REST Overview</h2>
<p>Many services offer their data via REST and you can use the standard HTTP “verbs” to access that data:</p>
<ul>
<li><code>GET</code> — Used to “get” (fetch) data.</li>
<li><code>POST</code>/<code>PUT</code> — Used to send data to the server.</li>
<li><code>DELETE</code> — Used to remove data (if permitted).</li>
</ul>
<p>REST uses standard HTTP URLs to define the API. For instance, with Twitter, you could access the following with a <code>GET</code> request to fetch a list of a user’s friends:</p>
<pre class="brush: lua;">https://api.twitter.com/1.1/friends/list.json</pre>
<p>Let’s inspect this in more detail:</p>
<ul>
<li><p>Most services run their APIs over a secure protocol (<code>https://</code>) which is followed by the host name.</p></li>
<li><p>Following the host name is commonly the API version — in this case <code>/1.1</code> indicates that this is version <code>1.1</code> of the API. This allows services to change their API definitions to add/update features or change data without breaking older apps that utilize the previous version.</p></li>
<li><p>Following this is typically the category of functionality. In this example, all of Twitter’s “friends” APIs are grouped under the <code>/friends</code> family.</p></li>
<li><p>Finally, the specific <code>/list</code> API will fetch a list of the current user’s friends, conveniently formatted in JSON which is easily compatible with Solar2D (alternatively, some services allow you to request XML data by specifying <code>.xml</code> instead of <code>.json</code>).</p></li>
</ul>
</section>
<section id="authentication" class="level2">
<h2>Authentication</h2>
<p>Most REST APIs require some form of verification or authentication, in particular if you’re trying to add or update data. Authentication can occur in various ways, for example by passing the username and password as part of the domain name:</p>
<pre class="brush: lua;">https://username:password@api.yoursite.com/someapi/dosomething.json</pre>
<p>In this example, the <code>username:password</code> method is a shortcut to using a headers table. Sometimes the username and password will be referred to as the “API Key” and “secret” and they may need to be encoded in some fashion such as <a href="../../../api/library/crypto/index.html">MD5</a>.</p>
<p>An alternate method is to use a <strong>headers</strong> table, discussed in more detail below.</p>
</section>
<section id="making-api-calls" class="level2">
<h2>Making API Calls</h2>
<p>Your REST API calls are made via <a href="../../../api/library/network/request.html">network.request()</a>. For this API, you need to provide a URL, an HTTP “verb”, a callback function to handle the completed request, and an optional table of information in which to handle headers and data passed to the server.</p>
<section id="basic-request" class="level3">
<h3>Basic Request</h3>
<p>Let’s look at a simple example using basic authentication (no headers):</p>
<pre class="brush: lua;">local json = require( "json" )

local function handleResponse( event )

    if not event.isError then
        local response = json.decode( event.response )
        print( event.response )
    else
        print( "Error!" )
    end

    return
end
 
network.request( "https://username:password@api.yourservice.com/users/friends.json", "GET", handleResponse )</pre>
</section>
<section id="headers" class="level3">
<h3>Headers</h3>
<p>Alternatively, if your service can’t use basic authentication as part of the URL, you need to set up <strong>headers</strong>:</p>
<pre class="brush: lua;">local json = require( "json" )
local mime = require( "mime" )

local function handleResponse( event )

    if not event.isError then
        local response = json.decode( event.response )
        print( event.response )
    else
        print( "Error!" )
    end
    
    return
end

local headers = {}
headers["Authentication"] = mime.b64("username:password")

local params = {}
params.headers = headers

network.request( "https://api.yourservice.com/users/friends.json", "GET", handleResponse, params )</pre>
</section>
</section>
<section id="conclusion" class="level2">
<h2>Conclusion</h2>
<p>Every service will have its own methods to call, so you need to research the specific API calls and learn what HTTP verbs are expected, as well as which parameters. Also, each service seems to implement authentication a little differently, but this tutorial should get you started on using <nobr>REST-based</nobr> APIs from various providers.</p>
<hr>
<div id="footer">
<p class="copyright">
© 2020-2024 Solar2D All Rights Reserved.
</p>
<p class="feedback">
Help us help you! If you notice a problem with this page, please report it.
</p>
<p><a class="feedback-button" href="https://github.com/coronalabs/corona-docs/issues" target="_blank">Report an Issue</a></p>
</div>
</section>
</section>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
<script src="https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    // Define syntax highlighting scripts.
    // N.B.: As a safeguard, you will need to whitelist the brush in filter-SyntaxHighlighter.py

    SyntaxHighlighter.autoloader(
      ['c#','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushCSharp.js'],
      ['java','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJava.js'],
      ['js','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushJScript.js'],
      ['lua','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushLua.js'],
      ['php','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushPhp.js'],
      ['sql','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushSql.js'],
      ['xml','https://corona-cdn.coronalabs.com/js/SyntaxHighlighter/shBrushXml.js']
    );

    // Set default configurations.
    SyntaxHighlighter.defaults['gutter'] = false; // Disable line numbers.
    SyntaxHighlighter.defaults['toolbar'] = false; // Disable link back to author's site. :(
	SyntaxHighlighter.defaults['quick-code'] = false; // Disable double click feature

    // Perform the highlighting.
    SyntaxHighlighter.all();
</script>
</body>
</html>
